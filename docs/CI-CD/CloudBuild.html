<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-CI-CD/CI/cloud-build" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Google Cloud Build | Infinite Operations</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://vibhuvioio.com/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://vibhuvioio.com/docs/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://vibhuvioio.com/docs/docs/CI-CD/CloudBuild"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Google Cloud Build | Infinite Operations"><meta data-rh="true" name="description" content="Google Cloud Build is a serverless CI/CD platform that executes builds on Google Cloud Platform infrastructure with advanced build automation and deployment capabilities."><meta data-rh="true" property="og:description" content="Google Cloud Build is a serverless CI/CD platform that executes builds on Google Cloud Platform infrastructure with advanced build automation and deployment capabilities."><meta data-rh="true" name="keywords" content="Google Cloud Build,GCP CI/CD,cloud native CI/CD,container builds,serverless CI/CD,Google Cloud Platform,build automation,deployment pipeline,cloud builds,GCP DevOps"><link data-rh="true" rel="icon" href="https://jinnabalu.com/assets/img/icons/favicon-194x194.png"><link data-rh="true" rel="canonical" href="https://vibhuvioio.com/docs/docs/CI-CD/CloudBuild"><link data-rh="true" rel="alternate" href="https://vibhuvioio.com/docs/docs/CI-CD/CloudBuild" hreflang="en"><link data-rh="true" rel="alternate" href="https://vibhuvioio.com/docs/docs/CI-CD/CloudBuild" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"CI/CD","item":"https://vibhuvioio.com/docs/docs/category/cicd"},{"@type":"ListItem","position":2,"name":"Continuous Integration","item":"https://vibhuvioio.com/docs/docs/category/continuous-integration"},{"@type":"ListItem","position":3,"name":"Google Cloud Build","item":"https://vibhuvioio.com/docs/docs/CI-CD/CloudBuild"}]}</script><link rel="alternate" type="application/rss+xml" href="/docs/blog/rss.xml" title="Infinite Operations RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/docs/blog/atom.xml" title="Infinite Operations Atom Feed"><link rel="stylesheet" href="/docs/assets/css/styles.41acb0d9.css">
<script src="/docs/assets/js/runtime~main.5dc9e6f4.js" defer="defer"></script>
<script src="/docs/assets/js/main.69995eab.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="https://jinnabalu.com/assets/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/docs/"><div class="navbar__logo"><img src="https://jinnabalu.com/assets/img/logo.png" alt="Ops" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="https://jinnabalu.com/assets/img/logo.png" alt="Ops" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Ops</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/docs/category/infrastructure--kubernetes">Docs</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/infrastructure--kubernetes">Infrastructure &amp; Kubernetes</a><button aria-label="Expand sidebar category &#x27;Infrastructure &amp; Kubernetes&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/k8s-cluster">K8s Cluster</a><button aria-label="Expand sidebar category &#x27;K8s Cluster&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/databases">Databases</a><button aria-label="Expand sidebar category &#x27;Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/docs/category/cicd">CI/CD</a><button aria-label="Collapse sidebar category &#x27;CI/CD&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/docs/docs/category/continuous-integration">Continuous Integration</a><button aria-label="Collapse sidebar category &#x27;Continuous Integration&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/Jenkins">Jenkins</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/GitHubActions">GitHub Actions</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/GitLabCI">GitLab CI/CD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CI-CD/AzureDevOps">Azure DevOps</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CI-CD/CircleCI">CircleCI</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CI-CD/TeamCity">TeamCity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CI-CD/GoCD">GoCD</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/docs/CI-CD/CloudBuild">Google Cloud Build</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CI-CD/AWSCodeBuild">AWS CodeBuild</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/CodeArts">CodeArts (Huawei Cloud)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/ArgoWorkflows">Argo Workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/docs/CICD/BitbucketPipelines">Bitbucket Pipelines</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" tabindex="0" href="/docs/docs/category/continuous-deployment">Continuous Deployment</a><button aria-label="Expand sidebar category &#x27;Continuous Deployment&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/testing--scanning">Testing &amp; Scanning</a><button aria-label="Expand sidebar category &#x27;Testing &amp; Scanning&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/build--ml-tools">Build &amp; ML Tools</a><button aria-label="Expand sidebar category &#x27;Build &amp; ML Tools&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/observability--monitoring">Observability &amp; Monitoring</a><button aria-label="Expand sidebar category &#x27;Observability &amp; Monitoring&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/data-processing">Data-Processing</a><button aria-label="Expand sidebar category &#x27;Data-Processing&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/security">Security</a><button aria-label="Expand sidebar category &#x27;Security&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/elasticsearch-operation">Elasticsearch Operation</a><button aria-label="Expand sidebar category &#x27;Elasticsearch Operation&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/minio">Minio</a><button aria-label="Expand sidebar category &#x27;Minio&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/vector-databases">Vector Databases</a><button aria-label="Expand sidebar category &#x27;Vector Databases&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/container-orchestration">Container-Orchestration</a><button aria-label="Expand sidebar category &#x27;Container-Orchestration&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/cert-manager">Cert Manager</a><button aria-label="Expand sidebar category &#x27;Cert Manager&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/docs/category/ingress-nginx">Ingress Nginx</a><button aria-label="Expand sidebar category &#x27;Ingress Nginx&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/docs/docs/intro">Infra Intro</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/docs/CreateMongoSecurityKey">mongo</a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/docs/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/docs/category/cicd"><span>CI/CD</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/docs/category/continuous-integration"><span>Continuous Integration</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Google Cloud Build</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>‚òÅÔ∏è Serverless CI/CD with Google Cloud Build</h1></header>
<p><strong>Google Cloud Build</strong> is a <strong>serverless CI/CD platform</strong> that executes builds on <strong>Google Cloud Platform infrastructure</strong> with <strong>automatic scaling</strong>, <strong>parallel execution</strong>, and <strong>deep GCP integration</strong>. Perfect for <strong>container builds</strong>, <strong>multi-language applications</strong>, and <strong>cloud-native deployments</strong>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="key-features">Key Features<a href="#key-features" class="hash-link" aria-label="Direct link to Key Features" title="Direct link to Key Features">‚Äã</a></h2>
<ul>
<li><strong>Serverless Architecture</strong>: No infrastructure management required</li>
<li><strong>Parallel Execution</strong>: Run build steps concurrently for faster builds</li>
<li><strong>Deep GCP Integration</strong>: Native integration with GCP services</li>
<li><strong>Custom Build Steps</strong>: Extensible with custom builders and Docker images</li>
<li><strong>Security</strong>: Built-in vulnerability scanning and secret management</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="use-cases">Use Cases<a href="#use-cases" class="hash-link" aria-label="Direct link to Use Cases" title="Direct link to Use Cases">‚Äã</a></h2>
<ul>
<li><strong>Container Applications</strong>: Build and deploy to GKE, Cloud Run, and Anthos</li>
<li><strong>Serverless Functions</strong>: Build and deploy Cloud Functions and Cloud Run functions</li>
<li><strong>Multi-Language Projects</strong>: Support for Node.js, Python, Java, Go, and more</li>
<li><strong>Infrastructure as Code</strong>: Terraform and deployment automation</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-prerequisites">üß∞ Prerequisites<a href="#-prerequisites" class="hash-link" aria-label="Direct link to üß∞ Prerequisites" title="Direct link to üß∞ Prerequisites">‚Äã</a></h2>
<ul>
<li><strong>Google Cloud Project</strong> with billing enabled</li>
<li><strong>gcloud CLI</strong> installed and configured</li>
<li><strong>Docker</strong> for local testing (optional)</li>
<li><strong>Git repository</strong> connected to Cloud Build</li>
<li><strong>Required APIs</strong> enabled (Cloud Build, Container Registry, etc.)</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="-step-1-setup-google-cloud-build">üîß Step 1: Setup Google Cloud Build<a href="#-step-1-setup-google-cloud-build" class="hash-link" aria-label="Direct link to üîß Step 1: Setup Google Cloud Build" title="Direct link to üîß Step 1: Setup Google Cloud Build">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="enable-required-apis-and-setup">Enable Required APIs and Setup<a href="#enable-required-apis-and-setup" class="hash-link" aria-label="Direct link to Enable Required APIs and Setup" title="Direct link to Enable Required APIs and Setup">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># Set your project ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">export PROJECT_ID=&quot;your-project-id&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud config set project $PROJECT_ID</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Enable required APIs</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable cloudbuild.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable containerregistry.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable run.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable container.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable secretmanager.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud services enable artifactregistry.googleapis.com</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Create Artifact Registry repository</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud artifacts repositories create myapp-repo \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --repository-format=docker \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --location=us-central1 \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --description=&quot;Docker repository for myapp&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Grant Cloud Build service account necessary permissions</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PROJECT_NUMBER=$(gcloud projects describe $PROJECT_ID --format=&quot;value(projectNumber)&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud projects add-iam-policy-binding $PROJECT_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --member=&quot;serviceAccount:$PROJECT_NUMBER@cloudbuild.gserviceaccount.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --role=&quot;roles/container.developer&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud projects add-iam-policy-binding $PROJECT_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --member=&quot;serviceAccount:$PROJECT_NUMBER@cloudbuild.gserviceaccount.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --role=&quot;roles/run.admin&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">gcloud projects add-iam-policy-binding $PROJECT_ID \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --member=&quot;serviceAccount:$PROJECT_NUMBER@cloudbuild.gserviceaccount.com&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    --role=&quot;roles/iam.serviceAccountUser&quot;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-step-2-comprehensive-build-configuration">üèóÔ∏è Step 2: Comprehensive Build Configuration<a href="#Ô∏è-step-2-comprehensive-build-configuration" class="hash-link" aria-label="Direct link to üèóÔ∏è Step 2: Comprehensive Build Configuration" title="Direct link to üèóÔ∏è Step 2: Comprehensive Build Configuration">‚Äã</a></h2>
<p>Create a comprehensive <code>cloudbuild.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic"># Google Cloud Build Configuration</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># This file defines a complete CI/CD pipeline with multiple stages</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Substitutions for dynamic values</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">substitutions</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_SERVICE_NAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> myapp</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_REGION</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> us</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">central1</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_CLUSTER_NAME</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> production</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">cluster</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_CLUSTER_ZONE</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> us</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">central1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">a</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">_DEPLOY_ENV</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Build steps</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 1: Restore dependencies cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gcr.io/cloud-builders/gsutil&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;restore-cache&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bash&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        gsutil -m cp -r gs://${PROJECT_ID}-build-cache/node_modules . || echo &quot;No cache found&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;-&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 2: Install dependencies</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:18-alpine&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;install-deps&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;ci&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NODE_ENV=development&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;restore-cache&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 3: Save dependencies cache</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gcr.io/cloud-builders/gsutil&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;save-cache&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bash&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        gsutil -m cp -r node_modules gs://${PROJECT_ID}-build-cache/</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;install-deps&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 4: Run linting</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:18-alpine&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lint&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;run&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;lint&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;install-deps&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 5: Run unit tests</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:18-alpine&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;test-unit&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;run&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;test:coverage&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;CI=true&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NODE_=test&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">&#x27;install</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">dep</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 6: Run it</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:1ne&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;securitit&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;npm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;audit&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--audit-l&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 7: Build application</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:18-alpine&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;build-app&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   pm&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ion&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;lint&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">t&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 8: Build Docker image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ker&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;build-image&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;build&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">t&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;us</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">central1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">docke</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-t&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--caom&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;u</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;uild-arg&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token string" style="color:#e3116c">&#x27;.&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;build-app&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 9: Push Dr image</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &#x27;gcr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;push-image&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">h&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--all-tags&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;us-centra}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#y</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;security-scan&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--exit-code&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--severity&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;HIGH,CRITICAL&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;t&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--output&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">A</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;push-image&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gcr.io/cloud-builoud&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ging&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;run&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;deploy&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">taging&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--image&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;u_SHA}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-on&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ION</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">aged&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">allow</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">unauthe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--set-env-vars&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;NODE_ENV=staging,VERSION=${COMMIT_SHA}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;512Mi&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--cpu&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;1&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--max-instances&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   0&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;80&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    wai</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">scan&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Ststs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;integration-tests&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        SERVICE_URL)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Wait for service to be ready</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">; do</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          if curl </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">f &quot;$SERVICE_URL/health&quot;; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          sleep 10</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        curl </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">f &quot;$SERVICE_URL/api/test&quot; </span><span class="token punctuation" style="color:#393A34">|</span><span class="token punctuation" style="color:#393A34">|</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">&#x27;deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">staging</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">#nch</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> nam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;deploy-production&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;run&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">/&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     A</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">clu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--location=${_CLUZONE}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    n&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    waitFoon</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">tests&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># tion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gcr.il&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;smoke-tests&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;run&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;</span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">image=curlimages/cu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--rm&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;--&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;curl&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-f&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;http://${_SERVICE_NAME}.prolth&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ER_ZONE</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">NAME</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain">&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">&#x27;deploy</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">pro</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Step 15: Notify Slack on succe</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> nal&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;notify-success&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bash&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        curl -X POSson&#x27; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        --data &quot;{\&quot;&quot;}&quot; \</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        $$</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">secretEnv</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">&#x27;SLACK_</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    w</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># o store</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">artifacts</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">jects</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">location</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gs:/s&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">paths</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;trivy-report.json&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">#</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;us-central1-docker.pkg.dev/${PROJECT_ISHA}&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> &#x27;us</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">central1</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">docker.pkg.dev/$</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># anager</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">availableS</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">secretManager</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">versionName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token key atrule" style="color:#00a4db">env</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;SLACK_&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">versionName</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> projest</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">options</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">diskSizeGb</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">100</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token key atrule" style="color:#00a4db">substitution_option</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> &#x27;ALL</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  l_ONLY</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> N</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  d true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic"># Te build</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&#x27;</span><br></span></code></pre></div></div>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="Ô∏è-step-3-advanced-build-patterns">‚ñ∂Ô∏è Step 3: Advanced Build Patterns<a href="#Ô∏è-step-3-advanced-build-patterns" class="hash-link" aria-label="Direct link to ‚ñ∂Ô∏è Step 3: Advanced Build Patterns" title="Direct link to ‚ñ∂Ô∏è Step 3: Advanced Build Patterns">‚Äã</a></h2>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="muld">Muld<a href="#muld" class="hash-link" aria-label="Direct link to Muld" title="Direct link to Muld">‚Äã</a></h3>
<p>Create <code>cloudbuild-monorepo.yaml</code>:</p>
<div class="language-yaml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-yaml codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token key atrule" style="color:#00a4db">steps</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Detect changed services</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;gcr.io/clou/git&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    entrypoi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        # Get list of changed files</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        git diff --name-only HEAD~1 </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic"># Detect </span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;fr</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;backend=false&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> build_flags.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        echo &quot;api=false&quot; </span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">&gt;</span><span class="token plain"> bus.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          echo &quot;fv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        i</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          echo &quot;backenv</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        if txt; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        cat build_flags.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># nal)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;node:18-alpine&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;build-frontend&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bash&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        source build_flags.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        if [ &quot;$fren</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          cd frontend</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          npm ci</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          npm run build</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          npm run test</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        else</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     d&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;detect-chans&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">al)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">name</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;python:3.11-slim&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">id</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;build-backend&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">entrypoint</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;bash&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">gs</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        source build_flags.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        if [ &quot;$backend&quot; = &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">         d</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     .txt</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    test</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">          python </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">m flak</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        fi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">waitFor</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">[</span><span class="token string" style="color:#e3116c">&#x27;detect-changes&#x27;</span><span class="token punctuation" style="color:#393A34">]</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic"># Build API (conditional)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">lpine&#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token key atrule" style="color:#00a4db">args</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;-c&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">|</span><span class="token scalar string" style="color:#e3116c"></span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        source build_flags.env</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">        if [ &quot;$api&quot; = &quot;true&quot; ]; then</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          cd api</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          go mod download</span><br></span><span class="token-line" style="color:#393A34"><span class="token scalar string" style="color:#e3116c">          go test ./...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">i .</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        else          echo &quot;API unchanged</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> skipping build&quot;   fi    waissystemon notificatid nitoring angrated moe  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Inteelinpipthe to nce inlia companning andty scilt securi Buows  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖyment workfl and deploriggersautomated tished </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Establtasks  ized ecialrs for sptom buildeted cuson  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Crealel executiith paralrns wpatteced build dvanmplemented anes  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Iipeli/CD prless CIve servemprehensiup co</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">‚úÖ Set ved</span><span class="token punctuation" style="color:#393A34">:</span><span class="token important">**</span><span class="token plain"> Achie You&#x27;ve.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token important">**Whatplicationstive</span><span class="token plain"> ap</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">narn cloudt for modeecd Build perf Clouakeses muruild feat bvanced</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> and adonP integratieep GC dre</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain">architectuless on of server combinatiment</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Theecret manageing and sin scann with built</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">chapproay</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">first</span><span class="token important">**</span><span class="token plain"> </span><span class="token important">**Securitxecution</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">  parallel end scaling a automaticds</span><span class="token important">**</span><span class="token plain"> with buil</span><span class="token important">**Scalablegistry</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ifact Rertd Ad Run</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> anlouGKE</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Cices like  serv withgration</span><span class="token important">**</span><span class="token plain"> inteeep GCP</span><span class="token important">*Dagement</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">*tructure</span><span class="token plain"> mant infras withous CI/CD</span><span class="token important">**erverles</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**Seed:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u nild when yoose Cloud BuChoform. atloud Plon Google C* I/CD</span><span class="token important">*native</span><span class="token plain"> Cor </span><span class="token important">**cloud-l</span><span class="token plain"> choice</span><span class="token important">**</span><span class="token plain"> f</span><span class="token important">**idea</span><span class="token plain"> the isuild le Cloud Bon</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Googsi</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## Conclus</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">---guration confipts andconce-specific GCPCurve**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token important">**Learning</span><span class="token plain">  builds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">olumee for high-vxpensiv**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Can be ens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**Costtiohosted</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">solulf-ible than se*</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Less flexization</span><span class="token important">*tomLimited</span><span class="token plain"> Cus</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**rmud</span><span class="token plain"> Platfooogle Clo Tied to G Lock</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">in</span><span class="token important">**:**GCP</span><span class="token plain"> Cons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> ent</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">### ‚ùåcret managem and sety scanningcurin selt-ie**: BuiSecurvices</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**h</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">GCP serwitration</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Deep integegrated</span><span class="token important">**</span><span class="token plain"> </span><span class="token important">**Intabilities</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">capnd cachingxecution aallel e**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Parst </span><span class="token important">**Fauild</span><span class="token plain"> load</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">-d on bg base scalintomaticlable**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> Aucad</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**Snt</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">require managemeructurestinfraess**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> No </span><span class="token important">*Serverl-</span><span class="token plain"> *</span><span class="token comment" style="color:#999988;font-style:italic">### ‚úÖ Pros</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&amp; Cons</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">os </span><span class="token punctuation" style="color:#393A34">-</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">## Pr0 days)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">-last 3ds**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 12 (led Buil</span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**Faients/day</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token key atrule" style="color:#00a4db">ploym de*</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">3.2t Frequency* **Deploymen*</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 6m 42s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain">ime</span><span class="token important">*ld</span><span class="token plain"> Tverage Buiays)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**A30</span><span class="token plain"> </span><span class="token key atrule" style="color:#00a4db">d(last 6.8% ate**</span><span class="token punctuation" style="color:#393A34">:</span><span class="token plain"> 9ld Success Rrd</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">-</span><span class="token plain"> </span><span class="token important">**Buioatrics</span><span class="token plain"> Dashbd Me</span><span class="token comment" style="color:#999988;font-style:italic"># Buil</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="34sly-8mul-successfompleted-all-steps-cld-success">34s)ly (8mul successfompleted All steps cLD SUCCESS:<a href="#34sly-8mul-successfompleted-all-steps-cld-success" class="hash-link" aria-label="Direct link to 34s)ly (8mul successfompleted All steps cLD SUCCESS:" title="Direct link to 34s)ly (8mul successfompleted All steps cLD SUCCESS:">‚Äã</a></h2>
<p>BUIrun.appng-xyz-uc.a.p-stagiapmy//tps<!-- -->:ice<!-- --> URL: ht&quot;: Servoy-staging11 - &quot;depl
Step #eployed been d01-abc] hasaging-000p-stsion [myapeviing] ragp-st[myap Service y-staging&quot;:- &quot;deplo #11  Done.
Stepw service...ploying neg&quot;: ‚úì Deploy-stagin&quot;de  #11 -g]
Stepginp-stavice [myap Run serClouder to g containDeployin-staging&quot;: 1 - &quot;deployStep #1&quot;
agingploy-stde1 - &quot; #1ng StepStarti<!-- -->:a1b2c3d</p>
<p>po/myappct/myapp-remyprojeg.dev/docker.pkentral1-ged us-cully taguccessfage&quot;: S&quot;build-im- tep #8 def456
Silt abc123ssfully bucce Suage&quot;:-im- &quot;buildtep #8
S 156.7MBker daemon ocontext to Ding build cge&quot;: Sendma&quot;build-iep #8 - -image&quot;
St &quot;build #8 -ting Stepes</p>
<p>Star91.8% branchnts, % statemeerage: 94.2&quot;: Cov-unittest5 - &quot;tal
Step # tosed, 127 passts: 127&quot;: Teitun &quot;test-p #5 -otal
Ste5 t 1 15 passed,Suites<!-- -->:t<!-- -->&quot;: Test &quot;test-uniep #5 - est.tsx
Stts/App.tencomponSS src/&quot;: PAst-unitep #5 - &quot;teerage
Stcovt:1.0.0 tesmyapp@t-unit&quot;: &gt;  &quot;tes#5 -&quot;
Step it - &quot;test-unting Step #5g!</p>
<p>Starlintines pass  fil&quot;: ‚ú® All#4 - &quot;lint,.tsx
Step .tsxt .js,.jsx,. --e &gt; eslint  - &quot;lint&quot;<!-- -->:p<!-- --> #4t
Ste <a href="mailto:linyapp@1.0.0nt" target="_blank" rel="noopener noreferrer">linyapp@1.0.0nt</a>&quot;: &gt; m&quot;li #4 -
Step&quot;intep #4 - &quot;l
Starting Sts in 23s
kage pac47ded 18: adll-deps&quot;nstap #2 - &quot;i
Steed.tions disabl protecdedRecommenng --force  WARN usipml-deps&quot;: n- &quot;instal
Step #2 deps&quot;- &quot;install-ng Step #2 Starti MiB.</p>
<p>cts/45.61.2k objeeted over ration compl Ope-cache&quot;<!-- -->:restore<!-- --> &quot; -ep #1les...
Stmodu-cache/node_-buildprojectmyg gs://&quot;: Copyinhecace-restortep #1 - &quot;cache&quot;
Sestore-ep #1 - &quot;rng Sttarti```bash
Se Output
Consold Build  ClouSee</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="youll--what---">You&#x27;ll  What üîç--<a href="#youll--what---" class="hash-link" aria-label="Direct link to You&#x27;ll  What üîç--" title="Direct link to You&#x27;ll  What üîç--">‚Äã</a></h3>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">-</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">``d_network.id.builpute_networkogle_com go    =  work et n1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ntral &quot;us-ce   =n     &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  regio0.0/2410.0.range = &quot;_cidr_ipbnet&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  = &quot;build-sue          amet&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  n_subn&quot;buildwork&quot; e_subnetle_computoogurce &quot;gresoe</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">alss = ftworkeate_subneo_crrk&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  autetwo&quot;build-n =            me         nak&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> orild_netw&quot; &quot;bu_networkutempgle_co &quot;gooourcees}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r  id</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">etwork.ork.build_nte_netwogle_compugotwork = ed_ne   peerig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> work_conf </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  netalse</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> nal_ip = fter  no_ex4&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  d--standar  = &quot;e2e hine_typmac   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   = 100_gb ze   disk_siig {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> er_confrk&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  woal1&quot;us-centrn = atio&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  locer-pool-work &quot;private     =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  nameol&quot; {&quot;private_por_pool&quot; orkeild_wudbugle_clo &quot;goosourcee builds</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">re privatol for worker po Buildud</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"># Clo</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  } = &quot;true&quot;  LEASE &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _REductionV = &quot;proEPLOY_EN {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _Dtitutions =  subs  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">se.yaml&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">lea-redbuildoue = &quot;clenam </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  fil  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">v.*&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ag = &quot;^  th {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pusyappname  = &quot;mg&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    r = &quot;myor</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    owneub {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gith&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  loymentsase depreleor  fgerrigiption = &quot;Tr&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  descrtriggease-&quot;rele   = name     e&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;releaser&quot; dbuild_trigg&quot;google_clou</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">resource   }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ging&quot;= &quot;staNV    _DEPLOY_E</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  {tutions =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  substiyaml&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  oudbuild-pr. &quot;clfilename =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   }$&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   inh = &quot;^ma   branc {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   _requestll   pu&quot;myapp&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   name  = &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  g&quot;myor= r   ownethub {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  giidation&quot;est valqur pull re&quot;Trigger fo= description </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  pr-trigger&quot;   = &quot;  name     &quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">uesteq&quot; &quot;pull_rriggerudbuild_t&quot;google_cloesource }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">r = true</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  al_requiredprov</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    aponfig {  approval_c</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot;_WITH_STATUSOGSBUILD_LNCLUDE_gs = &quot;Iild_loude_bu incl  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">al1-a&quot;&quot;us-centrZONE   =  _CLUSTER_ster&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   on-cluroducti   = &quot;p_NAME   _CLUSTER1&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ral-cent   = &quot;usON      </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _REGIapp&quot;E   = &quot;my_NAM_SERVICEon&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ducti     = &quot;pro_ENVEPLOY= {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _Dtions substitu</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ld.yaml&quot;udbuie = &quot;clofilenam</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  &quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }n$ = &quot;^mai   branch</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     push {app&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  e  = &quot;my  nam&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   &quot;myorg  owner =ithub {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gs&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ch buildran b main&quot;Trigger for = scription&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  dech-trigger&quot;main-bran      =   name  branch&quot; {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">&quot; &quot;main_gerild_trigloudbule_curce &quot;goog```hcl</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">reso:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">f`d.tuilorm/cloud-berrafte `t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Creaersiggfor Build Trfiguration  Conorm### Terraf</span><br></span></code></pre></div></div>
<p>oyment&quot;elease deplption=&quot;R--descri&quot; <br>
<!-- -->.yamlseleauild-reig=&quot;cloudb--build-conf   &quot; <br>
<!-- -->v.*ern=&quot;^ag-patt--t    <br>
<!-- -->yorg&quot;o-owner=&quot;m-rep
-&quot; \myapprepo-name=&quot;  --ub <br>
<!-- -->create giths triggerds
gcloud builesor releas trigger fte tag</p>
<h1>Creaation&quot;</h1>
<p>idequest val&quot;Pull r=escription
--dr.yaml&quot; \udbuild-pconfig=&quot;cloild-
--bu&quot; \ain$attern=&quot;^ml-request-ppul<br>
<!-- -->--&quot; rgmyoer=&quot;  --repo-own<br>
<!-- -->yapp&quot; =&quot;mo-name --repb <br>
<!-- -->ate githurs cres trigged buildger
gclou PR trig</p>
<h1>Createt&quot;</h1>
<p>h deploymen&quot;Main brancon=ripti
--desc \uild.yaml&quot;ig=&quot;cloudbconf   --build-&quot; <br>
<!-- -->n$rn=&quot;^maianch-pattebr<br>
<!-- -->--&quot; r=&quot;myorgwneepo-o
--ryapp&quot; \me=&quot;m   --repo-na
\ub threate gi triggers c buildsy
gcloudrepositoritHub</p>
<h1>Connect G</h1>
<div class="language-bash codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-bash codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Advanced with ntegration I### GitHubmation</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">utoand Ars geBuild TrigStep 4: ---</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">## üìä </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">``in()</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">`ma:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    __&quot;= &quot;__main_name__ =d&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if _mpleten cocaecurity s print(&quot;‚úÖ S       </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">image)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">age(    sign_ims:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    _resultyped granivy_results </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if trpasss f scange i # Sign ima</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  , indent=2)s, fltn.dump(resu  jso:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       as f&#x27;, &#x27;w&#x27;)ults.jsonn-resscarity-h open(&#x27;secuwit   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> om</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">m&#x27;: sb     &#x27;sbo  sults,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> pe_re&#x27;: grype &#x27;gry</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       ults,: trivy_restrivy&#x27;    &#x27;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     image,   &#x27;image&#x27;:= {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     lts </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    resu results # Save    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   e)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">e_sbom(imaggenerat</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    sbom = rate SBOM # Gene </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   mage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   grype_scan(its = run_ulres  grype_mage)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  scan(iy_rivn_t = ruesultsvy_r</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    triy scansvulnerabilit</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    # Run e}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    agr {im scan fotyecurie snsivg compreheintartrint(f&quot;üöÄ S   p</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ys.argv[1]age = s</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    im</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    1)sys.exit(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        &gt;&quot;)geima-scan.py &lt;: securitysage print(&quot;U     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  gv) != 2:ys.arlen(s   if </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ef main():</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">dturn False     re&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   : {e}ng failedsigniage &quot;‚ùå Imprint(fe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         as cessErrordProrocess.Callept subpue</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exceturn Tr    relly&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    successfuigned e} s {imagImageprint(f&quot;‚úÖ </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        ck=True)run(cmd, che subprocess.    :</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   ry t</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   age]imIVATE_KEY&#x27;, _PRenv://COSIGN-key&#x27;, &#x27; &#x27;sign&#x27;, &#x27;-[&#x27;cosign&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    cmd = ionduct in proey setup proper kreuld requi   # This wo&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> e {image}imaging Ô∏è Signint(f&quot;‚úç&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    prsign&quot;ith Coge wner imaaiSign cont &quot;&quot;&quot;):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   image sign_image(None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">defeturn   r  &quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }erriled: {e.stdn fatiogenera‚ùå SBOM    print(f&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     r as e:cessErro.CalledProocessexcept subpr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    lt.stdouts(resun.load  return jso     </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> ue)k=TrTrue, checue, text=Trt=apture_outpuun(cmd, c.ressbprocult = su      res   try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> -o&#x27;, &#x27;json&#x27;]&#x27;, image, &#x27;cmd = [&#x27;syft    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ge}&quot;)for {ima SBOM nerating&quot;üìã Ge   print(f&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> erials&quot; of MatBillware Softate &quot;Gener   &quot;&quot;age):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> sbom(imgenerate_None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def n       retur</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  err}&quot;)tdailed: {e.sype scan fGrnt(f&quot;‚ùå pri     as e:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   r essErro.CalledProcbprocess   except su)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> outs(result.std json.load return</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">       =True)ue, checktext=Trutput=True,  capture_on(cmd,ss.ruroceubp= s     result  try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    json&#x27;]&#x27;, &#x27;mage, &#x27;-ope&#x27;, i cmd = [&#x27;gry  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   e}&quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  imagn on {caing Grype sf&quot;üîç Runn   print(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;y scan&quot;&quot;ilitabnervulun Grype  &quot;&quot;&quot;R:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">   image)_scan(run_grype</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def eturn None</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        rr}&quot;) {e.stderiled:n fa Trivy scaprint(f&quot;‚ùåe:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">         as rocessErroralledPocess.Ct subpr)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    exceplt.stdoutresuds(rn json.loaetu       rTrue)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> k=e, checru=Tue, textut=Trapture_outpn(cmd, css.ruproceesult = sub  r         try:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> mage</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        iCRITICAL&#x27;,&#x27;HIGH,y&#x27;, --severit  &#x27;&#x27;1&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      it-code&#x27;,  &#x27;--ex     json&#x27;,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  t&#x27;, &#x27;   &#x27;--forma,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     &#x27;image&#x27;trivy&#x27;,       &#x27;[</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">     cmd =  </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"> &quot;)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    on {image}ivy scannning TrRuint(f&quot;üîç </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    pr scan&quot;&quot;&quot;erabilityrivy vulnun T    &quot;&quot;&quot;Ran(image):</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">n_trivy_scos</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">def ru</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import mport syson</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">is</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">import js subproces</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">importpython3sr/bin/env #!/uython</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">```pscan.py`:</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">security-ty-scanner/curi/seilders</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Create `bu&quot;]</span><br></span></code></pre></div></div>
<p>y-scan.pyecurital/bin/sloc&quot;/usr/NTRYPOINT [scan.py</p>
<p>Eity-/securlocal/binr/od +x /usUN chml/bin/
Rusr/locapy /an.rity-sccu ser
COPYscanneurity ustom secall cgn</p>
<h1>Instsibin/co/local/mod +x /usr</h1>
<p>chosign &amp;&amp; /local/bin/c /usrnux-amd64osign-li  mv c &amp;&amp; <br>
<!-- -->inux-amd64&quot;n-l/cosigoad/downlestat/lign/releasessigstore/costhub.com/ttps://gi-O -L &quot;hn
RUN curl  Cosig</p>
<h1>Install</h1>
<p>inl/bca-b /usr/lo | sh -s -- install.shain/hore/syft/ment.com/ancrcontuseubgith/raw.https:/ -sSfL t
RUN curlyfll S</p>
<h1>Instaal/bin/usr/loc- -b  -h -s | sall.shmain/instype/m/anchore/grntent.cohubusercoraw.git://-sSfL httpsrl e</h1>
<p>RUN cul Gryp</p>
<h1>Instal/local/bins -- -b /usrsh -all.sh | ontrib/instivy/main/curity/truaseccom/aqnt.buserconte.githutps://rawcurl -sfL htivy</h1>
<p>RUN Install Try3-pip</p>
<h1>pn3 \</h1>
<p>pytho      git <br>
<!-- -->jq \</p>
<p>ash \l <br>
<!-- -->b  curcache <br>
<!-- -->--no-d RUN apk ady tools
securit</p>
<h1>Install</h1>
<p>lpine<!-- -->:latestFROM<!-- --> ae
erfil</p>
<p>```dockockerfile<code>:ner/Dscanecurity-ilders/ste </code>bueaCring</p>
<p>ity Scannvanced Securlder for Adui### Custom B`</p>
<p>&#x27;]
``ild-apickend&#x27;, &#x27;bu-ba&#x27;, &#x27;build-frontend: [&#x27;buildaitFor    w    fi
T_SHA
api:$COMMIECT_ID/o/$PROJ push gcr.i    dockerpi/
MMIT_SHA aID/api:$CO$PROJECT_o/gcr.iild -t er buck      do then
]; = &quot;true&quot; &quot;$api&quot;    if [</p>
<p>fiT_SHA$COMMInd:_ID/backeo/$PROJECTush gcr.i  docker p    nd/
<em>SHA backeMMITkend:$COD/bac_Iio/$PROJECT -t gcr. build  docker    then
&quot; ];&quot; = &quot;truend$backe  if [ &quot;<br>
<!-- -->fi
A
SH:$COMMIT</em>/frontend/$PROJECT_IDr.ior push gc     docke  d/
HA frontenIT_Snd:$COMMonteROJECT_ID/frio/$Pild -t gcr.   docker bu       n
&quot; ]; the&quot; = &quot;truend &quot;$fronte      if [<br>
<!-- -->v
gs.ene build_fla    sourc    - |
c&#x27;</p>
<ul>
<li>&#x27;-       args:</li>
</ul>
<p>t: &#x27;bash&#x27;ntrypoin
emages&#x27;d-iid: &#x27;buil   &#x27;
ckerdod-builders/cr.io/clou- name: &#x27;gnal)
onditioimages (cild Docker  # Bu</p>
<p>nges&#x27;]ct-cha[&#x27;detetFor:</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/CI-CD/CI/cloud-build.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/docs/CI-CD/GoCD"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">GoCD</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/docs/CI-CD/AWSCodeBuild"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">AWS CodeBuild</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#key-features" class="table-of-contents__link toc-highlight">Key Features</a></li><li><a href="#use-cases" class="table-of-contents__link toc-highlight">Use Cases</a></li><li><a href="#-prerequisites" class="table-of-contents__link toc-highlight">üß∞ Prerequisites</a></li><li><a href="#-step-1-setup-google-cloud-build" class="table-of-contents__link toc-highlight">üîß Step 1: Setup Google Cloud Build</a><ul><li><a href="#enable-required-apis-and-setup" class="table-of-contents__link toc-highlight">Enable Required APIs and Setup</a></li></ul></li><li><a href="#Ô∏è-step-2-comprehensive-build-configuration" class="table-of-contents__link toc-highlight">üèóÔ∏è Step 2: Comprehensive Build Configuration</a></li><li><a href="#Ô∏è-step-3-advanced-build-patterns" class="table-of-contents__link toc-highlight">‚ñ∂Ô∏è Step 3: Advanced Build Patterns</a><ul><li><a href="#muld" class="table-of-contents__link toc-highlight">Muld</a></li></ul></li><li><a href="#34sly-8mul-successfompleted-all-steps-cld-success" class="table-of-contents__link toc-highlight">34s)ly (8mul successfompleted All steps cLD SUCCESS:</a><ul><li><a href="#youll--what---" class="table-of-contents__link toc-highlight">You&#39;ll  What üîç--</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2026 </div></div></div></footer></div>
</body>
</html>