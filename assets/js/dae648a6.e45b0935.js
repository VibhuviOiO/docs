"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[1774],{7326:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>o,contentTitle:()=>c,default:()=>d,frontMatter:()=>a,metadata:()=>t,toc:()=>l});const t=JSON.parse('{"id":"Testing-Scanning/SAST/semgrep","title":"Semgrep","description":"Semgrep is a static analysis tool for finding bugs, security issues, and code patterns. Learn how to integrate Semgrep into your CI/CD pipeline.","source":"@site/docs/Testing-Scanning/SAST/semgrep.md","sourceDirName":"Testing-Scanning/SAST","slug":"/TestingScanning/Semgrep","permalink":"/docs/docs/TestingScanning/Semgrep","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Testing-Scanning/SAST/semgrep.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"sidebar_position":2,"title":"Semgrep","description":"Semgrep is a static analysis tool for finding bugs, security issues, and code patterns. Learn how to integrate Semgrep into your CI/CD pipeline.","slug":"/TestingScanning/Semgrep","keywords":["Semgrep","SAST","static analysis","security scanning","code patterns","vulnerability detection"]},"sidebar":"tutorialSidebar","previous":{"title":"SonarQube","permalink":"/docs/docs/TestingScanning/SonarQube"},"next":{"title":"Checkmarx SAST","permalink":"/docs/docs/TestingScanning/Checkmarx"}}');var i=s(4848),r=s(8453);const a={sidebar_position:2,title:"Semgrep",description:"Semgrep is a static analysis tool for finding bugs, security issues, and code patterns. Learn how to integrate Semgrep into your CI/CD pipeline.",slug:"/TestingScanning/Semgrep",keywords:["Semgrep","SAST","static analysis","security scanning","code patterns","vulnerability detection"]},c="\ud83d\udd0d Semgrep Static Analysis Security Testing",o={},l=[{value:"\ud83d\udd27 Installation",id:"-installation",level:2},{value:"\ud83d\udcca Basic Scanning",id:"-basic-scanning",level:2},{value:"\u25b6\ufe0f Sample Output",id:"\ufe0f-sample-output",level:2},{value:"\ud83d\udd27 Custom Rules",id:"-custom-rules",level:2},{value:"\ud83d\udd04 CI/CD Integration",id:"-cicd-integration",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",hr:"hr",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(n.header,{children:(0,i.jsx)(n.h1,{id:"-semgrep-static-analysis-security-testing",children:"\ud83d\udd0d Semgrep Static Analysis Security Testing"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Semgrep"})," is a ",(0,i.jsx)(n.strong,{children:"static analysis tool"})," for finding ",(0,i.jsx)(n.strong,{children:"bugs"}),", ",(0,i.jsx)(n.strong,{children:"security issues"}),", and ",(0,i.jsx)(n.strong,{children:"code patterns"})," with ",(0,i.jsx)(n.strong,{children:"custom rules"})," and ",(0,i.jsx)(n.strong,{children:"CI/CD integration"}),"."]}),"\n",(0,i.jsx)(n.hr,{}),"\n",(0,i.jsx)(n.h2,{id:"-installation",children:"\ud83d\udd27 Installation"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Install Semgrep:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Using pip\npip install semgrep\n\n# Using Homebrew (macOS)\nbrew install semgrep\n\n# Using Docker\ndocker pull returntocorp/semgrep\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-basic-scanning",children:"\ud83d\udcca Basic Scanning"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Scan with built-in rules:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"# Scan current directory\nsemgrep --config=auto .\n\n# Scan specific language\nsemgrep --config=p/javascript .\nsemgrep --config=p/python .\n\n# Security-focused scan\nsemgrep --config=p/security-audit .\nsemgrep --config=p/owasp-top-ten .\n\n# Output to JSON\nsemgrep --config=auto --json --output=results.json .\n"})}),"\n",(0,i.jsx)(n.h2,{id:"\ufe0f-sample-output",children:"\u25b6\ufe0f Sample Output"}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"$ semgrep --config=p/security-audit .\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Scan Status \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n  Scanning 45 files (only git-tracked) with 423 Code rules:\n\n  FINDINGS:\n\n  src/auth.js\n       javascript.express.security.audit.express-cookie-session-no-secure.express-cookie-session-no-secure\n          Detected cookie session without 'secure' flag. This allows the cookie to be sent over HTTP.\n          \n          15\u2506 app.use(session({\n          16\u2506   secret: 'keyboard cat',\n          17\u2506   resave: false,\n          18\u2506   saveUninitialized: true\n          19\u2506 }))\n\n  src/database.js  \n       javascript.sequelize.security.audit.sequelize-injection.sequelize-injection\n          Detected possible SQL injection. User input is used in a raw query.\n          \n          23\u2506 const query = `SELECT * FROM users WHERE id = ${userId}`;\n          24\u2506 return sequelize.query(query);\n\n  SUMMARY:\n    2 findings of the following types:\n      1 javascript.express.security.audit.express-cookie-session-no-secure.express-cookie-session-no-secure\n      1 javascript.sequelize.security.audit.sequelize-injection.sequelize-injection\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-custom-rules",children:"\ud83d\udd27 Custom Rules"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Create custom-rules.yml:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:'rules:\n  - id: hardcoded-password\n    pattern: |\n      password = "..."\n    message: Hardcoded password detected\n    languages: [python, javascript]\n    severity: ERROR\n    \n  - id: sql-injection-risk\n    patterns:\n      - pattern: |\n          $QUERY = "SELECT * FROM users WHERE id = " + $INPUT\n      - pattern: |\n          $QUERY = f"SELECT * FROM users WHERE id = {$INPUT}"\n    message: Potential SQL injection vulnerability\n    languages: [python]\n    severity: WARNING\n'})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"Run with custom rules:"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-bash",children:"semgrep --config=custom-rules.yml .\n"})}),"\n",(0,i.jsx)(n.h2,{id:"-cicd-integration",children:"\ud83d\udd04 CI/CD Integration"}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"GitHub Actions (.github/workflows/semgrep.yml):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"name: Semgrep Security Scan\n\non: [push, pull_request]\n\njobs:\n  semgrep:\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n      - uses: returntocorp/semgrep-action@v1\n        with:\n          config: >-\n            p/security-audit\n            p/secrets\n            p/owasp-top-ten\n        env:\n          SEMGREP_APP_TOKEN: ${{ secrets.SEMGREP_APP_TOKEN }}\n"})}),"\n",(0,i.jsx)(n.p,{children:(0,i.jsx)(n.code,{children:"GitLab CI (.gitlab-ci.yml):"})}),"\n",(0,i.jsx)(n.pre,{children:(0,i.jsx)(n.code,{className:"language-yaml",children:"semgrep:\n  image: returntocorp/semgrep\n  script:\n    - semgrep --config=auto --json --output=gl-sast-report.json .\n  artifacts:\n    reports:\n      sast: gl-sast-report.json\n"})}),"\n",(0,i.jsxs)(n.p,{children:[(0,i.jsx)(n.strong,{children:"Reference:"})," ",(0,i.jsx)(n.a,{href:"https://semgrep.dev/docs/",children:"Semgrep Documentation"})]})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,i.jsx)(n,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},8453:(e,n,s)=>{s.d(n,{R:()=>a,x:()=>c});var t=s(6540);const i={},r=t.createContext(i);function a(e){const n=t.useContext(r);return t.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),t.createElement(r.Provider,{value:n},e.children)}}}]);