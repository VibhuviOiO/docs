"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2204],{8453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>o});var i=t(6540);const s={},r=i.createContext(s);function a(e){const n=i.useContext(r);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),i.createElement(r.Provider,{value:n},e.children)}},8479:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>d,frontMatter:()=>a,metadata:()=>i,toc:()=>c});const i=JSON.parse('{"id":"Testing-Scanning/SCA/dependency-track","title":"\ud83d\udd0d OWASP Dependency-Track - Software Composition Analysis Platform","description":"OWASP Dependency-Track is an intelligent Component Analysis platform that allows organizations to identify and reduce risk in the software supply chain. It provides continuous monitoring of components for known vulnerabilities and policy violations.","source":"@site/docs/Testing-Scanning/SCA/dependency-track.md","sourceDirName":"Testing-Scanning/SCA","slug":"/Testing-Scanning/SCA/dependency-track","permalink":"/docs/Testing-Scanning/SCA/dependency-track","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Testing-Scanning/SCA/dependency-track.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Snyk","permalink":"/docs/TestingScanning/Snyk"},"next":{"title":"Container Scanning","permalink":"/docs/category/container-scanning"}}');var s=t(4848),r=t(8453);const a={},o="\ud83d\udd0d OWASP Dependency-Track - Software Composition Analysis Platform",l={},c=[{value:"\ud83d\udccb Prerequisites",id:"-prerequisites",level:2},{value:"\ud83d\udee0\ufe0f Installation &amp; Setup",id:"\ufe0f-installation--setup",level:2},{value:"Docker Compose Deployment (Recommended)",id:"docker-compose-deployment-recommended",level:3},{value:"Generate Secret Key",id:"generate-secret-key",level:3},{value:"Start Services",id:"start-services",level:3},{value:"\ud83d\ude80 Initial Configuration",id:"-initial-configuration",level:2},{value:"Access Web Interface",id:"access-web-interface",level:3},{value:"API Configuration",id:"api-configuration",level:3},{value:"\ud83d\udcca Core Features",id:"-core-features",level:2},{value:"1. Project Management",id:"1-project-management",level:3},{value:"Create Project via API",id:"create-project-via-api",level:4},{value:"Project Configuration Script",id:"project-configuration-script",level:4},{value:"2. SBOM Upload and Analysis",id:"2-sbom-upload-and-analysis",level:3},{value:"Generate SBOM with CycloneDX",id:"generate-sbom-with-cyclonedx",level:4},{value:"Upload SBOM via API",id:"upload-sbom-via-api",level:4},{value:"Automated SBOM Upload Script",id:"automated-sbom-upload-script",level:4},{value:"3. Vulnerability Analysis",id:"3-vulnerability-analysis",level:3},{value:"Custom Vulnerability Source",id:"custom-vulnerability-source",level:4},{value:"4. Policy Management",id:"4-policy-management",level:3},{value:"Create Policy via API",id:"create-policy-via-api",level:4},{value:"Security Policy Configuration",id:"security-policy-configuration",level:4},{value:"\ud83d\udd27 CI/CD Integration",id:"-cicd-integration",level:2},{value:"GitHub Actions Integration",id:"github-actions-integration",level:3},{value:"Jenkins Pipeline",id:"jenkins-pipeline",level:3},{value:"\ud83d\udcca Reporting and Notifications",id:"-reporting-and-notifications",level:2},{value:"Custom Report Generation",id:"custom-report-generation",level:3},{value:"Slack Notifications",id:"slack-notifications",level:3},{value:"\ud83d\udd12 Security Configuration",id:"-security-configuration",level:2},{value:"LDAP Integration",id:"ldap-integration",level:3},{value:"OIDC Configuration",id:"oidc-configuration",level:3},{value:"\ud83d\udcc8 Performance Optimization",id:"-performance-optimization",level:2},{value:"Database Tuning",id:"database-tuning",level:3},{value:"Application Tuning",id:"application-tuning",level:3},{value:"\ud83d\udd0d Troubleshooting",id:"-troubleshooting",level:2},{value:"Common Issues and Solutions",id:"common-issues-and-solutions",level:3},{value:"Log Analysis",id:"log-analysis",level:3},{value:"\ud83d\udcda Additional Resources",id:"-additional-resources",level:2}];function p(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-owasp-dependency-track---software-composition-analysis-platform",children:"\ud83d\udd0d OWASP Dependency-Track - Software Composition Analysis Platform"})}),"\n",(0,s.jsx)(n.p,{children:"OWASP Dependency-Track is an intelligent Component Analysis platform that allows organizations to identify and reduce risk in the software supply chain. It provides continuous monitoring of components for known vulnerabilities and policy violations."}),"\n",(0,s.jsx)(n.h2,{id:"-prerequisites",children:"\ud83d\udccb Prerequisites"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Java 11+ (for running the application)"}),"\n",(0,s.jsx)(n.li,{children:"Docker and Docker Compose (recommended deployment)"}),"\n",(0,s.jsx)(n.li,{children:"PostgreSQL or H2 database"}),"\n",(0,s.jsx)(n.li,{children:"4GB+ RAM for production deployments"}),"\n",(0,s.jsx)(n.li,{children:"Basic understanding of software composition analysis"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-installation--setup",children:"\ud83d\udee0\ufe0f Installation & Setup"}),"\n",(0,s.jsx)(n.h3,{id:"docker-compose-deployment-recommended",children:"Docker Compose Deployment (Recommended)"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# docker-compose.yml\nversion: \'3.8\'\n\nservices:\n  dtrack-apiserver:\n    image: dependencytrack/apiserver:4.9.1\n    container_name: dtrack-apiserver\n    environment:\n      # Database Configuration\n      - ALPINE_DATABASE_MODE=external\n      - ALPINE_DATABASE_URL=jdbc:postgresql://postgres:5432/dtrack\n      - ALPINE_DATABASE_DRIVER=org.postgresql.Driver\n      - ALPINE_DATABASE_USERNAME=dtrack\n      - ALPINE_DATABASE_PASSWORD=changeme\n      \n      # Security Configuration\n      - ALPINE_SECRET_KEY_PATH=/var/run/secrets/secret.key\n      - ALPINE_BCRYPT_ROUNDS=14\n      \n      # LDAP Configuration (optional)\n      - ALPINE_LDAP_ENABLED=false\n      \n      # Metrics and Monitoring\n      - ALPINE_METRICS_ENABLED=true\n      - ALPINE_METRICS_AUTH_USERNAME=metrics\n      - ALPINE_METRICS_AUTH_PASSWORD=changeme\n      \n      # Vulnerability Analysis\n      - ALPINE_VULNERABILITY_ANALYZER_ENABLED=true\n      - ALPINE_VULNERABILITY_ANALYZER_INTERVAL=24\n      \n      # Repository Analysis\n      - ALPINE_REPO_META_ANALYZER_ENABLED=true\n      - ALPINE_REPO_META_ANALYZER_INTERVAL=24\n      \n      # Internal Analysis\n      - ALPINE_INTERNAL_COMPONENTS_ENABLED=true\n      \n      # Notification Configuration\n      - ALPINE_NOTIFICATION_LEVEL=INFORMATIONAL\n    ports:\n      - "8081:8080"\n    volumes:\n      - dtrack-data:/data\n      - ./secrets/secret.key:/var/run/secrets/secret.key:ro\n    depends_on:\n      - postgres\n    restart: unless-stopped\n    healthcheck:\n      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:8080/api/version"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  dtrack-frontend:\n    image: dependencytrack/frontend:4.9.1\n    container_name: dtrack-frontend\n    environment:\n      - API_BASE_URL=http://localhost:8081\n    ports:\n      - "8080:8080"\n    depends_on:\n      - dtrack-apiserver\n    restart: unless-stopped\n    healthcheck:\n      test: ["CMD", "wget", "--quiet", "--tries=1", "--spider", "http://localhost:8080/"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  postgres:\n    image: postgres:15-alpine\n    container_name: dtrack-postgres\n    environment:\n      - POSTGRES_DB=dtrack\n      - POSTGRES_USER=dtrack\n      - POSTGRES_PASSWORD=changeme\n      - POSTGRES_INITDB_ARGS=--encoding=UTF-8 --lc-collate=C --lc-ctype=C\n    volumes:\n      - postgres-data:/var/lib/postgresql/data\n    restart: unless-stopped\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U dtrack"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  # Optional: Redis for caching\n  redis:\n    image: redis:7-alpine\n    container_name: dtrack-redis\n    command: redis-server --appendonly yes\n    volumes:\n      - redis-data:/data\n    restart: unless-stopped\n\nvolumes:\n  dtrack-data:\n  postgres-data:\n  redis-data:\n'})}),"\n",(0,s.jsx)(n.h3,{id:"generate-secret-key",children:"Generate Secret Key"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Generate secret key for encryption\nopenssl rand -base64 32 > secrets/secret.key\nchmod 600 secrets/secret.key\n"})}),"\n",(0,s.jsx)(n.h3,{id:"start-services",children:"Start Services"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Create directories\nmkdir -p secrets\n\n# Generate secret key\nopenssl rand -base64 32 > secrets/secret.key\n\n# Start services\ndocker-compose up -d\n\n# Check logs\ndocker-compose logs -f dtrack-apiserver\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-initial-configuration",children:"\ud83d\ude80 Initial Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"access-web-interface",children:"Access Web Interface"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Default credentials (change immediately)\n# URL: http://localhost:8080\n# Username: admin\n# Password: admin\n"})}),"\n",(0,s.jsx)(n.h3,{id:"api-configuration",children:"API Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Get API key from web interface\n# Navigate to Administration -> Access Management -> Teams -> Administrators\n\n# Test API connectivity\ncurl -X GET "http://localhost:8081/api/v1/project" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -H "Content-Type: application/json"\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-core-features",children:"\ud83d\udcca Core Features"}),"\n",(0,s.jsx)(n.h3,{id:"1-project-management",children:"1. Project Management"}),"\n",(0,s.jsx)(n.h4,{id:"create-project-via-api",children:"Create Project via API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Create new project\ncurl -X PUT "http://localhost:8081/api/v1/project" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "name": "My Application",\n    "version": "1.0.0",\n    "description": "Production web application",\n    "tags": [\n      {\n        "name": "production"\n      },\n      {\n        "name": "web-app"\n      }\n    ],\n    "properties": [\n      {\n        "groupName": "integrations",\n        "propertyName": "defectdojo.engagementId",\n        "propertyValue": "12345"\n      }\n    ]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"project-configuration-script",children:"Project Configuration Script"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport requests\nimport json\n\nclass DependencyTrackAPI:\n    def __init__(self, base_url, api_key):\n        self.base_url = base_url\n        self.headers = {\n            \'X-API-Key\': api_key,\n            \'Content-Type\': \'application/json\'\n        }\n    \n    def create_project(self, name, version, description="", tags=None):\n        """Create a new project"""\n        data = {\n            \'name\': name,\n            \'version\': version,\n            \'description\': description,\n            \'tags\': tags or []\n        }\n        \n        response = requests.put(\n            f"{self.base_url}/api/v1/project",\n            headers=self.headers,\n            json=data\n        )\n        \n        if response.status_code == 201:\n            return response.json()\n        else:\n            raise Exception(f"Failed to create project: {response.text}")\n    \n    def upload_bom(self, project_uuid, bom_content, auto_create=True):\n        """Upload SBOM to project"""\n        data = {\n            \'project\': project_uuid,\n            \'bom\': bom_content,\n            \'autoCreate\': auto_create\n        }\n        \n        response = requests.put(\n            f"{self.base_url}/api/v1/bom",\n            headers=self.headers,\n            json=data\n        )\n        \n        return response.json() if response.status_code == 200 else None\n    \n    def get_project_metrics(self, project_uuid):\n        """Get project vulnerability metrics"""\n        response = requests.get(\n            f"{self.base_url}/api/v1/metrics/project/{project_uuid}/current",\n            headers=self.headers\n        )\n        \n        return response.json() if response.status_code == 200 else None\n\n# Usage example\ndt_api = DependencyTrackAPI("http://localhost:8081", "YOUR_API_KEY")\n\n# Create project\nproject = dt_api.create_project(\n    name="Web Application",\n    version="2.1.0",\n    description="Main production web application",\n    tags=[{"name": "production"}, {"name": "critical"}]\n)\n\nprint(f"Created project: {project[\'uuid\']}")\n'})}),"\n",(0,s.jsx)(n.h3,{id:"2-sbom-upload-and-analysis",children:"2. SBOM Upload and Analysis"}),"\n",(0,s.jsx)(n.h4,{id:"generate-sbom-with-cyclonedx",children:"Generate SBOM with CycloneDX"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Install CycloneDX tools\nnpm install -g @cyclonedx/cyclonedx-npm\npip install cyclonedx-bom\n\n# Generate SBOM for Node.js project\ncyclonedx-npm --output-file sbom.json\n\n# Generate SBOM for Python project\ncyclonedx-py -o sbom.json\n\n# Generate SBOM for Java project (using Maven)\nmvn org.cyclonedx:cyclonedx-maven-plugin:makeAggregateBom\n"})}),"\n",(0,s.jsx)(n.h4,{id:"upload-sbom-via-api",children:"Upload SBOM via API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Upload SBOM file\ncurl -X PUT "http://localhost:8081/api/v1/bom" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "project": "PROJECT_UUID",\n    "bom": "\'$(base64 -w 0 sbom.json)\'"\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"automated-sbom-upload-script",children:"Automated SBOM Upload Script"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport base64\nimport json\nimport requests\nimport sys\nimport time\n\ndef upload_sbom(api_url, api_key, project_uuid, sbom_file):\n    """Upload SBOM file to Dependency-Track"""\n    \n    # Read and encode SBOM file\n    with open(sbom_file, \'rb\') as f:\n        bom_content = base64.b64encode(f.read()).decode(\'utf-8\')\n    \n    # Prepare request\n    headers = {\n        \'X-API-Key\': api_key,\n        \'Content-Type\': \'application/json\'\n    }\n    \n    data = {\n        \'project\': project_uuid,\n        \'bom\': bom_content,\n        \'autoCreate\': True\n    }\n    \n    # Upload SBOM\n    response = requests.put(\n        f"{api_url}/api/v1/bom",\n        headers=headers,\n        json=data\n    )\n    \n    if response.status_code == 200:\n        token = response.json().get(\'token\')\n        print(f"SBOM upload initiated. Token: {token}")\n        \n        # Poll for completion\n        while True:\n            status_response = requests.get(\n                f"{api_url}/api/v1/bom/token/{token}",\n                headers=headers\n            )\n            \n            if status_response.status_code == 200:\n                status = status_response.json()\n                if status.get(\'processing\', True):\n                    print("Processing...")\n                    time.sleep(5)\n                else:\n                    print("SBOM processing completed!")\n                    break\n            else:\n                print("Error checking status")\n                break\n    else:\n        print(f"Upload failed: {response.text}")\n\nif __name__ == "__main__":\n    if len(sys.argv) != 5:\n        print("Usage: python upload_sbom.py <api_url> <api_key> <project_uuid> <sbom_file>")\n        sys.exit(1)\n    \n    upload_sbom(sys.argv[1], sys.argv[2], sys.argv[3], sys.argv[4])\n'})}),"\n",(0,s.jsx)(n.h3,{id:"3-vulnerability-analysis",children:"3. Vulnerability Analysis"}),"\n",(0,s.jsx)(n.h4,{id:"custom-vulnerability-source",children:"Custom Vulnerability Source"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport requests\nimport json\nfrom datetime import datetime\n\nclass CustomVulnSource:\n    def __init__(self, dt_api_url, dt_api_key):\n        self.dt_api_url = dt_api_url\n        self.headers = {\n            'X-API-Key': dt_api_key,\n            'Content-Type': 'application/json'\n        }\n    \n    def create_vulnerability(self, vuln_data):\n        \"\"\"Create custom vulnerability\"\"\"\n        response = requests.put(\n            f\"{self.dt_api_url}/api/v1/vulnerability\",\n            headers=self.headers,\n            json=vuln_data\n        )\n        \n        return response.json() if response.status_code == 201 else None\n    \n    def add_vulnerability_to_component(self, component_uuid, vuln_id, analysis_state=\"NOT_AFFECTED\"):\n        \"\"\"Add vulnerability analysis to component\"\"\"\n        data = {\n            'component': component_uuid,\n            'vulnerability': vuln_id,\n            'analysisState': analysis_state,\n            'analysisJustification': 'CODE_NOT_REACHABLE',\n            'analysisResponse': 'UPDATE',\n            'analysisDetails': 'Custom analysis performed',\n            'comment': f'Analysis performed on {datetime.now().isoformat()}'\n        }\n        \n        response = requests.put(\n            f\"{self.dt_api_url}/api/v1/analysis\",\n            headers=self.headers,\n            json=data\n        )\n        \n        return response.status_code == 201\n\n# Example usage\nvuln_source = CustomVulnSource(\"http://localhost:8081\", \"YOUR_API_KEY\")\n\n# Create custom vulnerability\ncustom_vuln = {\n    'vulnId': 'CUSTOM-2024-001',\n    'source': 'INTERNAL',\n    'title': 'Custom Security Issue',\n    'description': 'Internal security vulnerability found during code review',\n    'severity': 'HIGH',\n    'cvssV3BaseScore': 7.5,\n    'cvssV3Vector': 'CVSS:3.1/AV:N/AC:L/PR:N/UI:N/S:U/C:H/I:N/A:N'\n}\n\nresult = vuln_source.create_vulnerability(custom_vuln)\nprint(f\"Created vulnerability: {result}\")\n"})}),"\n",(0,s.jsx)(n.h3,{id:"4-policy-management",children:"4. Policy Management"}),"\n",(0,s.jsx)(n.h4,{id:"create-policy-via-api",children:"Create Policy via API"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Create license policy\ncurl -X PUT "http://localhost:8081/api/v1/policy" \\\n  -H "X-API-Key: YOUR_API_KEY" \\\n  -H "Content-Type: application/json" \\\n  -d \'{\n    "name": "License Compliance Policy",\n    "operator": "ANY",\n    "violationState": "FAIL",\n    "policyConditions": [\n      {\n        "subject": "LICENSE",\n        "operator": "IS",\n        "value": "GPL-3.0"\n      },\n      {\n        "subject": "LICENSE",\n        "operator": "IS",\n        "value": "AGPL-3.0"\n      }\n    ]\n  }\'\n'})}),"\n",(0,s.jsx)(n.h4,{id:"security-policy-configuration",children:"Security Policy Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport requests\n\ndef create_security_policies(api_url, api_key):\n    \"\"\"Create comprehensive security policies\"\"\"\n    \n    headers = {\n        'X-API-Key': api_key,\n        'Content-Type': 'application/json'\n    }\n    \n    policies = [\n        {\n            'name': 'Critical Vulnerability Policy',\n            'operator': 'ANY',\n            'violationState': 'FAIL',\n            'policyConditions': [\n                {\n                    'subject': 'SEVERITY',\n                    'operator': 'IS',\n                    'value': 'CRITICAL'\n                }\n            ]\n        },\n        {\n            'name': 'High Severity with EPSS Policy',\n            'operator': 'ALL',\n            'violationState': 'WARN',\n            'policyConditions': [\n                {\n                    'subject': 'SEVERITY',\n                    'operator': 'IS',\n                    'value': 'HIGH'\n                },\n                {\n                    'subject': 'EPSS_SCORE',\n                    'operator': 'NUMERIC_GREATER_THAN',\n                    'value': '0.7'\n                }\n            ]\n        },\n        {\n            'name': 'Outdated Component Policy',\n            'operator': 'ANY',\n            'violationState': 'INFO',\n            'policyConditions': [\n                {\n                    'subject': 'AGE',\n                    'operator': 'NUMERIC_GREATER_THAN',\n                    'value': '365'\n                }\n            ]\n        }\n    ]\n    \n    for policy in policies:\n        response = requests.put(\n            f\"{api_url}/api/v1/policy\",\n            headers=headers,\n            json=policy\n        )\n        \n        if response.status_code == 201:\n            print(f\"Created policy: {policy['name']}\")\n        else:\n            print(f\"Failed to create policy {policy['name']}: {response.text}\")\n\n# Usage\ncreate_security_policies(\"http://localhost:8081\", \"YOUR_API_KEY\")\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-cicd-integration",children:"\ud83d\udd27 CI/CD Integration"}),"\n",(0,s.jsx)(n.h3,{id:"github-actions-integration",children:"GitHub Actions Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:'# .github/workflows/dependency-track.yml\nname: Dependency Track Analysis\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  dependency-analysis:\n    runs-on: ubuntu-latest\n    \n    steps:\n    - uses: actions/checkout@v4\n    \n    - name: Set up Node.js\n      uses: actions/setup-node@v4\n      with:\n        node-version: \'18\'\n        cache: \'npm\'\n    \n    - name: Install dependencies\n      run: npm ci\n    \n    - name: Generate SBOM\n      run: |\n        npm install -g @cyclonedx/cyclonedx-npm\n        cyclonedx-npm --output-file sbom.json\n    \n    - name: Upload SBOM to Dependency-Track\n      env:\n        DT_API_KEY: ${{ secrets.DEPENDENCY_TRACK_API_KEY }}\n        DT_PROJECT_UUID: ${{ secrets.DEPENDENCY_TRACK_PROJECT_UUID }}\n      run: |\n        curl -X PUT "${{ vars.DEPENDENCY_TRACK_URL }}/api/v1/bom" \\\n          -H "X-API-Key: $DT_API_KEY" \\\n          -H "Content-Type: application/json" \\\n          -d "{\n            \\"project\\": \\"$DT_PROJECT_UUID\\",\n            \\"bom\\": \\"$(base64 -w 0 sbom.json)\\"\n          }"\n    \n    - name: Wait for analysis completion\n      env:\n        DT_API_KEY: ${{ secrets.DEPENDENCY_TRACK_API_KEY }}\n        DT_PROJECT_UUID: ${{ secrets.DEPENDENCY_TRACK_PROJECT_UUID }}\n      run: |\n        # Wait for analysis to complete\n        sleep 60\n        \n        # Get vulnerability metrics\n        METRICS=$(curl -s -H "X-API-Key: $DT_API_KEY" \\\n          "${{ vars.DEPENDENCY_TRACK_URL }}/api/v1/metrics/project/$DT_PROJECT_UUID/current")\n        \n        CRITICAL=$(echo $METRICS | jq -r \'.critical // 0\')\n        HIGH=$(echo $METRICS | jq -r \'.high // 0\')\n        \n        echo "Critical vulnerabilities: $CRITICAL"\n        echo "High vulnerabilities: $HIGH"\n        \n        # Fail if critical vulnerabilities found\n        if [ "$CRITICAL" -gt 0 ]; then\n          echo "\u274c Critical vulnerabilities found!"\n          exit 1\n        fi\n        \n        # Warn if high vulnerabilities found\n        if [ "$HIGH" -gt 5 ]; then\n          echo "\u26a0\ufe0f High number of high-severity vulnerabilities: $HIGH"\n          exit 1\n        fi\n        \n        echo "\u2705 Security analysis passed!"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"jenkins-pipeline",children:"Jenkins Pipeline"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-groovy",children:'// Jenkinsfile\npipeline {\n    agent any\n    \n    environment {\n        DT_API_KEY = credentials(\'dependency-track-api-key\')\n        DT_PROJECT_UUID = credentials(\'dependency-track-project-uuid\')\n        DT_URL = \'http://dependency-track:8081\'\n    }\n    \n    stages {\n        stage(\'Checkout\') {\n            steps {\n                checkout scm\n            }\n        }\n        \n        stage(\'Build\') {\n            steps {\n                sh \'npm ci\'\n            }\n        }\n        \n        stage(\'Generate SBOM\') {\n            steps {\n                sh \'\'\'\n                    npm install -g @cyclonedx/cyclonedx-npm\n                    cyclonedx-npm --output-file sbom.json\n                \'\'\'\n            }\n        }\n        \n        stage(\'Upload to Dependency-Track\') {\n            steps {\n                script {\n                    def sbomContent = sh(\n                        script: \'base64 -w 0 sbom.json\',\n                        returnStdout: true\n                    ).trim()\n                    \n                    def response = httpRequest(\n                        httpMode: \'PUT\',\n                        url: "${DT_URL}/api/v1/bom",\n                        customHeaders: [\n                            [name: \'X-API-Key\', value: env.DT_API_KEY],\n                            [name: \'Content-Type\', value: \'application/json\']\n                        ],\n                        requestBody: """\n                        {\n                            "project": "${env.DT_PROJECT_UUID}",\n                            "bom": "${sbomContent}"\n                        }\n                        """\n                    )\n                    \n                    def token = readJSON(text: response.content).token\n                    echo "Upload token: ${token}"\n                    \n                    // Wait for processing\n                    sleep(time: 60, unit: \'SECONDS\')\n                }\n            }\n        }\n        \n        stage(\'Security Gate\') {\n            steps {\n                script {\n                    def metricsResponse = httpRequest(\n                        url: "${DT_URL}/api/v1/metrics/project/${env.DT_PROJECT_UUID}/current",\n                        customHeaders: [\n                            [name: \'X-API-Key\', value: env.DT_API_KEY]\n                        ]\n                    )\n                    \n                    def metrics = readJSON(text: metricsResponse.content)\n                    \n                    echo "Vulnerability Summary:"\n                    echo "Critical: ${metrics.critical ?: 0}"\n                    echo "High: ${metrics.high ?: 0}"\n                    echo "Medium: ${metrics.medium ?: 0}"\n                    echo "Low: ${metrics.low ?: 0}"\n                    \n                    // Security gate logic\n                    if ((metrics.critical ?: 0) > 0) {\n                        error("\u274c Critical vulnerabilities found! Build failed.")\n                    }\n                    \n                    if ((metrics.high ?: 0) > 10) {\n                        unstable("\u26a0\ufe0f High number of high-severity vulnerabilities")\n                    }\n                    \n                    echo "\u2705 Security gate passed!"\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            archiveArtifacts artifacts: \'sbom.json\', fingerprint: true\n        }\n        \n        failure {\n            emailext(\n                subject: "Security Analysis Failed: ${env.JOB_NAME} - ${env.BUILD_NUMBER}",\n                body: "Security analysis failed for ${env.JOB_NAME} build ${env.BUILD_NUMBER}. Check Dependency-Track for details.",\n                to: "${env.CHANGE_AUTHOR_EMAIL}"\n            )\n        }\n    }\n}\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-reporting-and-notifications",children:"\ud83d\udcca Reporting and Notifications"}),"\n",(0,s.jsx)(n.h3,{id:"custom-report-generation",children:"Custom Report Generation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"#!/usr/bin/env python3\nimport requests\nimport json\nimport csv\nfrom datetime import datetime\n\nclass DependencyTrackReporter:\n    def __init__(self, api_url, api_key):\n        self.api_url = api_url\n        self.headers = {\n            'X-API-Key': api_key,\n            'Content-Type': 'application/json'\n        }\n    \n    def get_project_vulnerabilities(self, project_uuid):\n        \"\"\"Get all vulnerabilities for a project\"\"\"\n        response = requests.get(\n            f\"{self.api_url}/api/v1/vulnerability/project/{project_uuid}\",\n            headers=self.headers\n        )\n        \n        return response.json() if response.status_code == 200 else []\n    \n    def get_project_components(self, project_uuid):\n        \"\"\"Get all components for a project\"\"\"\n        response = requests.get(\n            f\"{self.api_url}/api/v1/component/project/{project_uuid}\",\n            headers=self.headers\n        )\n        \n        return response.json() if response.status_code == 200 else []\n    \n    def generate_vulnerability_report(self, project_uuid, output_file):\n        \"\"\"Generate comprehensive vulnerability report\"\"\"\n        vulnerabilities = self.get_project_vulnerabilities(project_uuid)\n        \n        with open(output_file, 'w', newline='') as csvfile:\n            fieldnames = [\n                'Component', 'Version', 'Vulnerability ID', 'Severity', \n                'CVSS Score', 'Description', 'Published Date', 'Analysis State'\n            ]\n            writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n            writer.writeheader()\n            \n            for vuln in vulnerabilities:\n                component = vuln.get('component', {})\n                writer.writerow({\n                    'Component': component.get('name', 'Unknown'),\n                    'Version': component.get('version', 'Unknown'),\n                    'Vulnerability ID': vuln.get('vulnId', ''),\n                    'Severity': vuln.get('severity', ''),\n                    'CVSS Score': vuln.get('cvssV3BaseScore', ''),\n                    'Description': vuln.get('description', '')[:100] + '...',\n                    'Published Date': vuln.get('published', ''),\n                    'Analysis State': vuln.get('analysisState', 'NOT_SET')\n                })\n        \n        print(f\"Vulnerability report generated: {output_file}\")\n    \n    def generate_license_report(self, project_uuid, output_file):\n        \"\"\"Generate license compliance report\"\"\"\n        components = self.get_project_components(project_uuid)\n        \n        license_summary = {}\n        \n        with open(output_file, 'w', newline='') as csvfile:\n            fieldnames = ['Component', 'Version', 'License', 'License Risk']\n            writer = csv.DictWriter(csvfile, fieldnames=fieldnames)\n            writer.writeheader()\n            \n            for component in components:\n                resolved_license = component.get('resolvedLicense', {})\n                license_name = resolved_license.get('name', 'Unknown')\n                \n                # Count licenses\n                license_summary[license_name] = license_summary.get(license_name, 0) + 1\n                \n                writer.writerow({\n                    'Component': component.get('name', 'Unknown'),\n                    'Version': component.get('version', 'Unknown'),\n                    'License': license_name,\n                    'License Risk': self._assess_license_risk(license_name)\n                })\n        \n        print(f\"License report generated: {output_file}\")\n        print(\"License Summary:\")\n        for license_name, count in sorted(license_summary.items()):\n            print(f\"  {license_name}: {count} components\")\n    \n    def _assess_license_risk(self, license_name):\n        \"\"\"Simple license risk assessment\"\"\"\n        high_risk = ['GPL-3.0', 'AGPL-3.0', 'GPL-2.0']\n        medium_risk = ['LGPL-2.1', 'LGPL-3.0', 'MPL-2.0']\n        \n        if license_name in high_risk:\n            return 'HIGH'\n        elif license_name in medium_risk:\n            return 'MEDIUM'\n        else:\n            return 'LOW'\n\n# Usage\nreporter = DependencyTrackReporter(\"http://localhost:8081\", \"YOUR_API_KEY\")\n\n# Generate reports\nproject_uuid = \"your-project-uuid\"\ntimestamp = datetime.now().strftime(\"%Y%m%d_%H%M%S\")\n\nreporter.generate_vulnerability_report(\n    project_uuid, \n    f\"vulnerability_report_{timestamp}.csv\"\n)\n\nreporter.generate_license_report(\n    project_uuid, \n    f\"license_report_{timestamp}.csv\"\n)\n"})}),"\n",(0,s.jsx)(n.h3,{id:"slack-notifications",children:"Slack Notifications"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:'#!/usr/bin/env python3\nimport requests\nimport json\nfrom datetime import datetime\n\nclass SlackNotifier:\n    def __init__(self, webhook_url, dt_api_url, dt_api_key):\n        self.webhook_url = webhook_url\n        self.dt_api_url = dt_api_url\n        self.dt_headers = {\n            \'X-API-Key\': dt_api_key,\n            \'Content-Type\': \'application/json\'\n        }\n    \n    def get_project_metrics(self, project_uuid):\n        """Get current project metrics"""\n        response = requests.get(\n            f"{self.dt_api_url}/api/v1/metrics/project/{project_uuid}/current",\n            headers=self.dt_headers\n        )\n        \n        return response.json() if response.status_code == 200 else {}\n    \n    def send_vulnerability_alert(self, project_uuid, project_name):\n        """Send vulnerability alert to Slack"""\n        metrics = self.get_project_metrics(project_uuid)\n        \n        critical = metrics.get(\'critical\', 0)\n        high = metrics.get(\'high\', 0)\n        medium = metrics.get(\'medium\', 0)\n        low = metrics.get(\'low\', 0)\n        \n        # Determine alert level\n        if critical > 0:\n            color = "danger"\n            alert_level = "\ud83d\udea8 CRITICAL"\n        elif high > 5:\n            color = "warning"\n            alert_level = "\u26a0\ufe0f HIGH"\n        else:\n            color = "good"\n            alert_level = "\u2705 NORMAL"\n        \n        # Prepare Slack message\n        message = {\n            "username": "Dependency-Track",\n            "icon_emoji": ":shield:",\n            "attachments": [\n                {\n                    "color": color,\n                    "title": f"{alert_level} - Security Analysis Results",\n                    "title_link": f"{self.dt_api_url.replace(\'/api\', \'\')}/projects/{project_uuid}",\n                    "fields": [\n                        {\n                            "title": "Project",\n                            "value": project_name,\n                            "short": True\n                        },\n                        {\n                            "title": "Timestamp",\n                            "value": datetime.now().strftime("%Y-%m-%d %H:%M:%S"),\n                            "short": True\n                        },\n                        {\n                            "title": "Critical",\n                            "value": str(critical),\n                            "short": True\n                        },\n                        {\n                            "title": "High",\n                            "value": str(high),\n                            "short": True\n                        },\n                        {\n                            "title": "Medium",\n                            "value": str(medium),\n                            "short": True\n                        },\n                        {\n                            "title": "Low",\n                            "value": str(low),\n                            "short": True\n                        }\n                    ],\n                    "footer": "Dependency-Track",\n                    "ts": int(datetime.now().timestamp())\n                }\n            ]\n        }\n        \n        # Send to Slack\n        response = requests.post(self.webhook_url, json=message)\n        \n        if response.status_code == 200:\n            print("Slack notification sent successfully")\n        else:\n            print(f"Failed to send Slack notification: {response.text}")\n\n# Usage\nnotifier = SlackNotifier(\n    webhook_url="https://hooks.slack.com/services/YOUR/SLACK/WEBHOOK",\n    dt_api_url="http://localhost:8081",\n    dt_api_key="YOUR_API_KEY"\n)\n\nnotifier.send_vulnerability_alert("project-uuid", "My Application")\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-security-configuration",children:"\ud83d\udd12 Security Configuration"}),"\n",(0,s.jsx)(n.h3,{id:"ldap-integration",children:"LDAP Integration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"# application.properties\nalpine.ldap.enabled=true\nalpine.ldap.server.url=ldap://ldap.company.com:389\nalpine.ldap.basedn=dc=company,dc=com\nalpine.ldap.security.auth=simple\nalpine.ldap.bind.username=cn=dtrack,ou=services,dc=company,dc=com\nalpine.ldap.bind.password=changeme\nalpine.ldap.auth.username.format=%s@company.com\nalpine.ldap.attribute.name=displayName\nalpine.ldap.attribute.mail=mail\nalpine.ldap.groups.filter=(&(objectClass=group)(cn=DT-*))\nalpine.ldap.user.groups.filter=(member:1.2.840.113556.1.4.1941:={USER_DN})\nalpine.ldap.groups.search.filter=(&(objectClass=group)(cn={SEARCH_TERM}*))\nalpine.ldap.users.search.filter=(&(objectClass=user)(cn={SEARCH_TERM}*))\n"})}),"\n",(0,s.jsx)(n.h3,{id:"oidc-configuration",children:"OIDC Configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-properties",children:"# OIDC Configuration\nalpine.oidc.enabled=true\nalpine.oidc.client.id=dependency-track\nalpine.oidc.client.secret=your-client-secret\nalpine.oidc.issuer=https://auth.company.com/auth/realms/company\nalpine.oidc.username.claim=preferred_username\nalpine.oidc.teams.claim=groups\nalpine.oidc.user.provisioning=true\nalpine.oidc.team.synchronization=true\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-performance-optimization",children:"\ud83d\udcc8 Performance Optimization"}),"\n",(0,s.jsx)(n.h3,{id:"database-tuning",children:"Database Tuning"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sql",children:'-- PostgreSQL optimization for Dependency-Track\n-- postgresql.conf settings\n\n# Memory settings\nshared_buffers = 256MB\neffective_cache_size = 1GB\nwork_mem = 4MB\nmaintenance_work_mem = 64MB\n\n# Checkpoint settings\ncheckpoint_completion_target = 0.9\nwal_buffers = 16MB\ndefault_statistics_target = 100\n\n# Connection settings\nmax_connections = 200\n\n# Create indexes for better performance\nCREATE INDEX CONCURRENTLY idx_component_project_id ON "COMPONENT" ("PROJECT_ID");\nCREATE INDEX CONCURRENTLY idx_vulnerability_component_id ON "VULNERABILITYSCAN" ("COMPONENT_ID");\nCREATE INDEX CONCURRENTLY idx_analysis_component_vuln ON "ANALYSIS" ("COMPONENT_ID", "VULNERABILITY_ID");\n'})}),"\n",(0,s.jsx)(n.h3,{id:"application-tuning",children:"Application Tuning"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"# docker-compose.yml - Performance optimized\nversion: '3.8'\n\nservices:\n  dtrack-apiserver:\n    image: dependencytrack/apiserver:4.9.1\n    environment:\n      # JVM Settings\n      - JAVA_OPTIONS=-Xmx4g -Xms2g -XX:+UseG1GC -XX:MaxGCPauseMillis=200\n      \n      # Thread Pool Settings\n      - ALPINE_WORKER_THREADS=10\n      - ALPINE_WORKER_MAX_QUEUE_SIZE=500\n      \n      # Database Connection Pool\n      - ALPINE_DATABASE_POOL_ENABLED=true\n      - ALPINE_DATABASE_POOL_MAX_SIZE=20\n      - ALPINE_DATABASE_POOL_MIN_IDLE=10\n      - ALPINE_DATABASE_POOL_IDLE_TIMEOUT=300000\n      - ALPINE_DATABASE_POOL_MAX_LIFETIME=600000\n      \n      # Cache Settings\n      - ALPINE_HTTP_CACHE_CONTROL=max-age=3600\n      \n      # Analysis Settings\n      - ALPINE_VULNERABILITY_ANALYZER_ENABLED=true\n      - ALPINE_VULNERABILITY_ANALYZER_INTERVAL=6\n      - ALPINE_REPO_META_ANALYZER_ENABLED=true\n      - ALPINE_REPO_META_ANALYZER_INTERVAL=24\n    \n    deploy:\n      resources:\n        limits:\n          memory: 6G\n          cpus: '4'\n        reservations:\n          memory: 4G\n          cpus: '2'\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-troubleshooting",children:"\ud83d\udd0d Troubleshooting"}),"\n",(0,s.jsx)(n.h3,{id:"common-issues-and-solutions",children:"Common Issues and Solutions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"High Memory Usage"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Check memory usage\ndocker stats dtrack-apiserver\n\n# Adjust JVM settings\nexport JAVA_OPTIONS="-Xmx2g -Xms1g -XX:+UseG1GC"\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"2",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Slow Analysis"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Check analysis queue\ncurl -H "X-API-Key: YOUR_API_KEY" \\\n  "http://localhost:8081/api/v1/metrics/portfolio"\n\n# Enable debug logging\nexport ALPINE_LOG_LEVEL=DEBUG\n'})}),"\n",(0,s.jsxs)(n.ol,{start:"3",children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.strong,{children:"Database Connection Issues"})}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# Test database connectivity\ndocker exec -it dtrack-postgres psql -U dtrack -d dtrack -c "SELECT version();"\n\n# Check connection pool\ncurl -H "X-API-Key: YOUR_API_KEY" \\\n  "http://localhost:8081/api/v1/metrics/system"\n'})}),"\n",(0,s.jsx)(n.h3,{id:"log-analysis",children:"Log Analysis"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:'# View application logs\ndocker logs -f dtrack-apiserver\n\n# Search for specific errors\ndocker logs dtrack-apiserver 2>&1 | grep -i "error\\|exception\\|failed"\n\n# Monitor database logs\ndocker logs -f dtrack-postgres\n'})}),"\n",(0,s.jsx)(n.h2,{id:"-additional-resources",children:"\ud83d\udcda Additional Resources"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.dependencytrack.org/",children:"OWASP Dependency-Track Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://cyclonedx.org/",children:"CycloneDX SBOM Standard"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://owasp.org/www-project-software-component-verification-standard/",children:"OWASP Software Component Verification Standard"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.dependencytrack.org/integrations/rest-api/",children:"API Documentation"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://github.com/DependencyTrack/community-plugins",children:"Community Plugins"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"OWASP Dependency-Track provides comprehensive software composition analysis capabilities, enabling organizations to identify and manage risks in their software supply chain effectively."})]})}function d(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);