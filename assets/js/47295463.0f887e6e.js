"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[9625],{3791:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>o,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"Databases/Vector-Database/Faiss","title":"Faiss","description":"FAISS (Facebook AI Similarity Search) is a powerful library for efficient similarity search and clustering of dense vectors. In this tutorial, you\'ll learn how to containerize a minimal FAISS-powered REST API using Flask and Docker Compose.","source":"@site/docs/Databases/Vector-Database/Faiss.md","sourceDirName":"Databases/Vector-Database","slug":"/Databases/Vector-Database/faiss-docker-rest-api","permalink":"/docs/docs/Databases/Vector-Database/faiss-docker-rest-api","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Databases/Vector-Database/Faiss.md","tags":[{"inline":true,"label":"faiss","permalink":"/docs/docs/tags/faiss"},{"inline":true,"label":"docker","permalink":"/docs/docs/tags/docker"},{"inline":true,"label":"vector-search","permalink":"/docs/docs/tags/vector-search"},{"inline":true,"label":"flask","permalink":"/docs/docs/tags/flask"},{"inline":true,"label":"rest-api","permalink":"/docs/docs/tags/rest-api"}],"version":"current","sidebarPosition":4,"frontMatter":{"sidebar_position":4,"slug":"faiss-docker-rest-api","title":"Faiss","authors":"venkatesh","tags":["faiss","docker","vector-search","flask","rest-api"]},"sidebar":"tutorialSidebar","previous":{"title":"Weaviate","permalink":"/docs/docs/VectorDB/Weaviate"},"next":{"title":"Postgresql","permalink":"/docs/docs/VectorDB/Postgresql"}}');var a=n(4848),i=n(8453);const t={sidebar_position:4,slug:"faiss-docker-rest-api",title:"Faiss",authors:"venkatesh",tags:["faiss","docker","vector-search","flask","rest-api"]},c="Build a FAISS REST API with Docker Compose",o={},l=[{value:"\ud83d\udcc1 Project Structure",id:"-project-structure",level:2},{value:"Write the Flask + FAISS App",id:"write-the-flask--faiss-app",level:2},{value:"Dockerfile to Containerize It",id:"dockerfile-to-containerize-it",level:2},{value:"Docker Compose Setup",id:"docker-compose-setup",level:2},{value:"Build and Run the Server",id:"build-and-run-the-server",level:2},{value:"\u2699\ufe0f Interacting with FAISS Vector Search API and Its Real-World Applications",id:"\ufe0f-interacting-with-faiss-vector-search-api-and-its-real-world-applications",level:2},{value:"\u2795 Add a Vector",id:"-add-a-vector",level:3},{value:"\ud83d\udd0d Search for Similar Vectors",id:"-search-for-similar-vectors",level:3},{value:"Use-cases",id:"use-cases",level:3},{value:"References",id:"references",level:4}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.header,{children:(0,a.jsx)(s.h1,{id:"build-a-faiss-rest-api-with-docker-compose",children:"Build a FAISS REST API with Docker Compose"})}),"\n",(0,a.jsxs)(s.p,{children:[(0,a.jsx)(s.strong,{children:"FAISS"})," (Facebook AI Similarity Search) is a powerful library for efficient similarity search and clustering of dense vectors. In this tutorial, you'll learn how to containerize a minimal FAISS-powered REST API using ",(0,a.jsx)(s.strong,{children:"Flask"})," and ",(0,a.jsx)(s.strong,{children:"Docker Compose"}),"."]}),"\n",(0,a.jsx)(s.p,{children:"This setup is perfect for projects involving vector embeddings, semantic search, or AI/ML pipelines."}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"-project-structure",children:"\ud83d\udcc1 Project Structure"}),"\n",(0,a.jsxs)(s.p,{children:["Create a new folder called ",(0,a.jsx)(s.code,{children:"faiss"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"mkdir faiss && cd faiss\n"})}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"faiss/\n\u251c\u2500\u2500 app.py\n\u251c\u2500\u2500 Dockerfile\n\u2514\u2500\u2500 docker-compose.yml\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"write-the-flask--faiss-app",children:"Write the Flask + FAISS App"}),"\n",(0,a.jsx)(s.p,{children:"Create a file named app.py :"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-python",children:'from flask import Flask, request, jsonify\nimport faiss\nimport numpy as np\n\napp = Flask(__name__)\n\ndim = 4\nindex = faiss.IndexFlatL2(dim)\ndata = {}\n\n@app.route("/")\ndef home():\n    return "FAISS Server is running!", 200\n\n@app.route("/add", methods=["POST"])\ndef add_vector():\n    content = request.json\n    vec = np.array(content["vector"]).astype("float32").reshape(1, -1)\n    id = content.get("id", str(len(data)))\n    data[id] = vec\n    index.add(vec)\n    return {"status": "added", "id": id}\n\n@app.route("/search", methods=["POST"])\ndef search_vector():\n    query = np.array(request.json["vector"]).astype("float32").reshape(1, -1)\n    k = request.json.get("k", 5)\n    distances, indices = index.search(query, k)\n    return jsonify({\n        "distances": distances.tolist(),\n        "indices": indices.tolist()\n    })\n\nif __name__ == "__main__":\n    app.run(host="0.0.0.0", port=80)\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"dockerfile-to-containerize-it",children:"Dockerfile to Containerize It"}),"\n",(0,a.jsxs)(s.p,{children:["Create a ",(0,a.jsx)(s.code,{children:"Dockerfile"}),":"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-dockerfile",children:'FROM python:3.9-slim\n\nWORKDIR /app\n\nRUN pip install --no-cache-dir flask faiss-cpu numpy\n\nCOPY app.py .\n\nCMD ["python", "app.py"]\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"docker-compose-setup",children:"Docker Compose Setup"}),"\n",(0,a.jsxs)(s.p,{children:["Create a ",(0,a.jsx)(s.code,{children:"docker-compose.yml"})," file:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-yaml",children:'services:\n  faiss-server:\n    build: .\n    ports:\n      - "8090:80"\n    container_name: faiss-custom\n    restart: unless-stopped\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"build-and-run-the-server",children:"Build and Run the Server"}),"\n",(0,a.jsxs)(s.p,{children:["From your ",(0,a.jsx)(s.code,{children:"faiss"})," folder, run:"]}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"docker compose up --build -d\n"})}),"\n",(0,a.jsx)(s.p,{children:"Test that it\u2019s running:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:"curl http://localhost:8090/\n"})}),"\n",(0,a.jsx)(s.p,{children:"output:"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{children:"FAISS Server is running!\n"})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h2,{id:"\ufe0f-interacting-with-faiss-vector-search-api-and-its-real-world-applications",children:"\u2699\ufe0f Interacting with FAISS Vector Search API and Its Real-World Applications"}),"\n",(0,a.jsx)(s.h3,{id:"-add-a-vector",children:"\u2795 Add a Vector"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'curl -X POST http://localhost:8090/add \\\n  -H "Content-Type: application/json" \\\n  -d \'{"id": "1", "vector": [0.1, 0.2, 0.3, 0.4]}\'\n'})}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h3,{id:"-search-for-similar-vectors",children:"\ud83d\udd0d Search for Similar Vectors"}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-bash",children:'curl -X POST http://localhost:8090/search \\\n  -H "Content-Type: application/json" \\\n  -d \'{"vector": [0.1, 0.2, 0.3, 0.4], "k": 1}\'\n'})}),"\n",(0,a.jsx)(s.p,{children:"\ud83c\udf0d Real-World Use Cases of FAISS Vector Search\nDomain\tUse Case Description"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:"\ud83d\udd0e Semantic Search\tSearch documents, FAQs, or code using meaning (not keywords)"}),"\n",(0,a.jsx)(s.li,{children:"\ud83d\udecd\ufe0f E-commerce\tFind similar products based on image or text embeddings"}),"\n",(0,a.jsx)(s.li,{children:"\ud83d\udcf8 Facial Recognition\tMatch faces using vector embeddings from face encoders"}),"\n",(0,a.jsx)(s.li,{children:"\ud83e\udd16 Chatbots/NLP\tRetrieve relevant responses from vectorized knowledge"}),"\n",(0,a.jsx)(s.li,{children:"\ud83c\udfa7 Music Recommendation\tRecommend songs based on user vector preferences"}),"\n",(0,a.jsx)(s.li,{children:"\ud83e\uddec Bioinformatics\tMatch DNA/protein sequences using high-dimensional vectors"}),"\n"]}),"\n",(0,a.jsx)(s.hr,{}),"\n",(0,a.jsx)(s.h3,{id:"use-cases",children:"Use-cases"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"/docs/docs/projects/personalized-recommendation-faiss",children:"Personalized Recommendation "})}),"\n"]}),"\n",(0,a.jsx)(s.h4,{id:"references",children:"References"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://faiss.ai/",children:"FAISS Documentation"})}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://flask.palletsprojects.com/",children:"Flask Documentation"})}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var r=n(6540);const a={},i=r.createContext(a);function t(e){const s=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),r.createElement(i.Provider,{value:s},e.children)}}}]);