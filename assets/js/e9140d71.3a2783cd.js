"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[4054],{682:(n,e,s)=>{s.r(e),s.d(e,{assets:()=>l,contentTitle:()=>o,default:()=>u,frontMatter:()=>a,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"Testing-Scanning/SAST/sonarqube","title":"SonarQube","description":"SonarQube is a comprehensive code quality and security analysis platform. Learn how to set up SonarQube with Docker and integrate it into your CI/CD pipeline for automated code analysis.","source":"@site/docs/Testing-Scanning/SAST/sonarqube.md","sourceDirName":"Testing-Scanning/SAST","slug":"/TestingScanning/SonarQube","permalink":"/docs/docs/TestingScanning/SonarQube","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/Testing-Scanning/SAST/sonarqube.md","tags":[],"version":"current","sidebarPosition":1,"frontMatter":{"sidebar_position":1,"title":"SonarQube","description":"SonarQube is a comprehensive code quality and security analysis platform. Learn how to set up SonarQube with Docker and integrate it into your CI/CD pipeline for automated code analysis.","slug":"/TestingScanning/SonarQube","keywords":["SonarQube","SAST","static analysis","code quality","security scanning","Docker SonarQube","code analysis","DevSecOps","quality gates","technical debt"]},"sidebar":"tutorialSidebar","previous":{"title":"SAST (Static Analysis)","permalink":"/docs/docs/category/sast-static-analysis"},"next":{"title":"Semgrep","permalink":"/docs/docs/TestingScanning/Semgrep"}}');var t=s(4848),i=s(8453);const a={sidebar_position:1,title:"SonarQube",description:"SonarQube is a comprehensive code quality and security analysis platform. Learn how to set up SonarQube with Docker and integrate it into your CI/CD pipeline for automated code analysis.",slug:"/TestingScanning/SonarQube",keywords:["SonarQube","SAST","static analysis","code quality","security scanning","Docker SonarQube","code analysis","DevSecOps","quality gates","technical debt"]},o="\ud83d\ude80 SonarQube Code Quality & Security Analysis",l={},c=[{value:"\ud83e\uddf0 Prerequisites",id:"-prerequisites",level:2},{value:"\ud83d\udd27 Step 1: Setup SonarQube with Docker",id:"-step-1-setup-sonarqube-with-docker",level:2},{value:"\ud83c\udfd7\ufe0f Step 2: Initial SonarQube Setup",id:"\ufe0f-step-2-initial-sonarqube-setup",level:2},{value:"Create Project Token",id:"create-project-token",level:3},{value:"\ud83d\udcc1 Step 3: Install SonarScanner",id:"-step-3-install-sonarscanner",level:2},{value:"Option 1: Install SonarScanner CLI",id:"option-1-install-sonarscanner-cli",level:3},{value:"Option 2: Use Docker Scanner",id:"option-2-use-docker-scanner",level:3},{value:"Option 3: Install via npm (for Node.js projects)",id:"option-3-install-via-npm-for-nodejs-projects",level:3},{value:"\u25b6\ufe0f Step 4: Analyze Your First Project",id:"\ufe0f-step-4-analyze-your-first-project",level:2},{value:"JavaScript/TypeScript Project Analysis",id:"javascripttypescript-project-analysis",level:3},{value:"Python Project Analysis",id:"python-project-analysis",level:3},{value:"Java/Maven Project Analysis",id:"javamaven-project-analysis",level:3},{value:"\ud83d\udcca Step 5: Understanding SonarQube Results",id:"-step-5-understanding-sonarqube-results",level:2},{value:"Quality Gate Overview",id:"quality-gate-overview",level:3},{value:"Sample Analysis Results",id:"sample-analysis-results",level:3},{value:"\ud83d\udd27 Step 6: CI/CD Integration",id:"-step-6-cicd-integration",level:2},{value:"GitHub Actions Integration",id:"github-actions-integration",level:3},{value:"Jenkins Integration",id:"jenkins-integration",level:3},{value:"GitLab CI Integration",id:"gitlab-ci-integration",level:3},{value:"\ud83d\udd0d Step 7: Advanced Configuration",id:"-step-7-advanced-configuration",level:2},{value:"Custom Quality Gates",id:"custom-quality-gates",level:3},{value:"Custom Rules and Profiles",id:"custom-rules-and-profiles",level:3},{value:"Multi-Language Project Configuration",id:"multi-language-project-configuration",level:3},{value:"\ud83d\udee1\ufe0f Step 8: Security-Focused Analysis",id:"\ufe0f-step-8-security-focused-analysis",level:2},{value:"Security Hotspots Review",id:"security-hotspots-review",level:3},{value:"OWASP Top 10 Compliance",id:"owasp-top-10-compliance",level:3},{value:"Vulnerability Management",id:"vulnerability-management",level:3},{value:"\ud83d\udcc8 Step 9: Reporting and Dashboards",id:"-step-9-reporting-and-dashboards",level:2},{value:"Custom Dashboard Creation",id:"custom-dashboard-creation",level:3},{value:"Automated Reporting",id:"automated-reporting",level:3},{value:"\ud83d\udd27 Step 10: Troubleshooting Common Issues",id:"-step-10-troubleshooting-common-issues",level:2},{value:"Memory and Performance Issues",id:"memory-and-performance-issues",level:3},{value:"Analysis Failures",id:"analysis-failures",level:3},{value:"Plugin Management",id:"plugin-management",level:3},{value:"\ud83d\udccb Common Use Cases",id:"-common-use-cases",level:2},{value:"1. <strong>Enterprise Code Quality</strong>",id:"1-enterprise-code-quality",level:3},{value:"2. <strong>DevSecOps Integration</strong>",id:"2-devsecops-integration",level:3},{value:"3. <strong>Continuous Improvement</strong>",id:"3-continuous-improvement",level:3},{value:"4. <strong>Regulatory Compliance</strong>",id:"4-regulatory-compliance",level:3},{value:"\u2705 What You&#39;ll Achieve",id:"-what-youll-achieve",level:2}];function d(n){const e={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"-sonarqube-code-quality--security-analysis",children:"\ud83d\ude80 SonarQube Code Quality & Security Analysis"})}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"SonarQube"})," is a comprehensive ",(0,t.jsx)(e.strong,{children:"code quality"})," and ",(0,t.jsx)(e.strong,{children:"security analysis"})," platform that provides ",(0,t.jsx)(e.strong,{children:"static application security testing (SAST)"}),", ",(0,t.jsx)(e.strong,{children:"code smell detection"}),", and ",(0,t.jsx)(e.strong,{children:"technical debt management"}),". Perfect for maintaining ",(0,t.jsx)(e.strong,{children:"high code standards"})," and ",(0,t.jsx)(e.strong,{children:"identifying security vulnerabilities"})," early in the development cycle."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-prerequisites",children:"\ud83e\uddf0 Prerequisites"}),"\n",(0,t.jsx)(e.p,{children:"Make sure you have the following:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Docker & Docker Compose"})," installed"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"A code project"})," ready for analysis"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"SonarScanner CLI"})," or CI/CD integration"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Basic understanding"})," of code quality concepts"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Internet access"})," to download SonarQube and plugins"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-1-setup-sonarqube-with-docker",children:"\ud83d\udd27 Step 1: Setup SonarQube with Docker"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Create a docker-compose.yml file:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'version: "3.8"\n\nservices:\n  sonarqube:\n    image: sonarqube:community\n    container_name: sonarqube\n    restart: unless-stopped\n    ports:\n      - "9000:9000"\n    environment:\n      SONAR_JDBC_URL: jdbc:postgresql://postgres:5432/sonar\n      SONAR_JDBC_USERNAME: sonar\n      SONAR_JDBC_PASSWORD: sonar123\n      SONAR_ES_BOOTSTRAP_CHECKS_DISABLE: true\n    volumes:\n      - sonarqube-data:/opt/sonarqube/data\n      - sonarqube-extensions:/opt/sonarqube/extensions\n      - sonarqube-logs:/opt/sonarqube/logs\n    depends_on:\n      - postgres\n    healthcheck:\n      test: ["CMD", "curl", "-f", "http://localhost:9000/api/system/status"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n\n  postgres:\n    image: postgres:15\n    container_name: sonarqube-postgres\n    restart: unless-stopped\n    environment:\n      POSTGRES_USER: sonar\n      POSTGRES_PASSWORD: sonar123\n      POSTGRES_DB: sonar\n    volumes:\n      - postgresql-data:/var/lib/postgresql/data\n    healthcheck:\n      test: ["CMD-SHELL", "pg_isready -U sonar"]\n      interval: 30s\n      timeout: 5s\n      retries: 3\n\nvolumes:\n  sonarqube-data:\n  sonarqube-extensions:\n  sonarqube-logs:\n  postgresql-data:\n'})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Start SonarQube:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"docker-compose up -d\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Wait for SonarQube to start (may take 2-3 minutes):"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"docker logs -f sonarqube\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"\ufe0f-step-2-initial-sonarqube-setup",children:"\ud83c\udfd7\ufe0f Step 2: Initial SonarQube Setup"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Visit"})," ",(0,t.jsx)(e.code,{children:"http://localhost:9000"})]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Login"})," with default credentials:","\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:["Username: ",(0,t.jsx)(e.code,{children:"admin"})]}),"\n",(0,t.jsxs)(e.li,{children:["Password: ",(0,t.jsx)(e.code,{children:"admin"})]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Change"})," the default password when prompted"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Create"})," your first project"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"create-project-token",children:"Create Project Token"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Go to ",(0,t.jsx)(e.strong,{children:"Administration"})," \u2192 ",(0,t.jsx)(e.strong,{children:"Security"})," \u2192 ",(0,t.jsx)(e.strong,{children:"Users"})]}),"\n",(0,t.jsxs)(e.li,{children:["Click on ",(0,t.jsx)(e.strong,{children:"Tokens"})," for admin user"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Generate"})," a new token (save it securely)"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Copy"})," the token for later use"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-3-install-sonarscanner",children:"\ud83d\udcc1 Step 3: Install SonarScanner"}),"\n",(0,t.jsx)(e.h3,{id:"option-1-install-sonarscanner-cli",children:"Option 1: Install SonarScanner CLI"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Download and install SonarScanner\nwget https://binaries.sonarsource.com/Distribution/sonar-scanner-cli/sonar-scanner-cli-4.8.0.2856-linux.zip\nunzip sonar-scanner-cli-4.8.0.2856-linux.zip\nsudo mv sonar-scanner-4.8.0.2856-linux /opt/sonar-scanner\nsudo ln -s /opt/sonar-scanner/bin/sonar-scanner /usr/local/bin/sonar-scanner\n"})}),"\n",(0,t.jsx)(e.h3,{id:"option-2-use-docker-scanner",children:"Option 2: Use Docker Scanner"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Create alias for Docker-based scanner\nalias sonar-scanner='docker run --rm -v \"$(pwd):/usr/src\" sonarsource/sonar-scanner-cli'\n"})}),"\n",(0,t.jsx)(e.h3,{id:"option-3-install-via-npm-for-nodejs-projects",children:"Option 3: Install via npm (for Node.js projects)"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"npm install -g sonarqube-scanner\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"\ufe0f-step-4-analyze-your-first-project",children:"\u25b6\ufe0f Step 4: Analyze Your First Project"}),"\n",(0,t.jsx)(e.h3,{id:"javascripttypescript-project-analysis",children:"JavaScript/TypeScript Project Analysis"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Create sonar-project.properties in your project root:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-properties",children:"# Project identification\nsonar.projectKey=my-javascript-app\nsonar.projectName=My JavaScript Application\nsonar.projectVersion=1.0\n\n# Source code location\nsonar.sources=src\nsonar.tests=tests,__tests__,src/**/*.test.js,src/**/*.spec.js\n\n# Exclusions\nsonar.exclusions=node_modules/**,dist/**,build/**,coverage/**,public/**,*.config.js\n\n# Language and encoding\nsonar.sourceEncoding=UTF-8\n\n# Test coverage\nsonar.javascript.lcov.reportPaths=coverage/lcov.info\nsonar.testExecutionReportPaths=test-results.xml\n\n# ESLint report\nsonar.eslint.reportPaths=reports/eslint-report.json\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Run the analysis:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"sonar-scanner \\\n  -Dsonar.host.url=http://localhost:9000 \\\n  -Dsonar.login=YOUR_TOKEN_HERE\n"})}),"\n",(0,t.jsx)(e.h3,{id:"python-project-analysis",children:"Python Project Analysis"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Create sonar-project.properties:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-properties",children:"# Project identification\nsonar.projectKey=my-python-app\nsonar.projectName=My Python Application\nsonar.projectVersion=1.0\n\n# Source code location\nsonar.sources=src,app\nsonar.tests=tests\n\n# Exclusions\nsonar.exclusions=**/__pycache__/**,**/migrations/**,**/venv/**,**/env/**\n\n# Language and encoding\nsonar.sourceEncoding=UTF-8\n\n# Python specific\nsonar.python.coverage.reportPaths=coverage.xml\nsonar.python.xunit.reportPath=test-results.xml\n\n# Pylint report\nsonar.python.pylint.reportPaths=reports/pylint-report.txt\n\n# Bandit security report\nsonar.python.bandit.reportPaths=reports/bandit-report.json\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Generate coverage and test reports:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Install testing dependencies\npip install pytest pytest-cov pytest-xvfb pylint bandit\n\n# Run tests with coverage\npytest --cov=src --cov-report=xml --junitxml=test-results.xml\n\n# Run pylint\npylint src/ --output-format=parseable --reports=no > reports/pylint-report.txt\n\n# Run bandit security scan\nbandit -r src/ -f json -o reports/bandit-report.json\n\n# Run SonarQube analysis\nsonar-scanner \\\n  -Dsonar.host.url=http://localhost:9000 \\\n  -Dsonar.login=YOUR_TOKEN_HERE\n"})}),"\n",(0,t.jsx)(e.h3,{id:"javamaven-project-analysis",children:"Java/Maven Project Analysis"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Add SonarQube plugin to pom.xml:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"<properties>\n    <sonar.host.url>http://localhost:9000</sonar.host.url>\n    <sonar.login>YOUR_TOKEN_HERE</sonar.login>\n</properties>\n\n<build>\n    <plugins>\n        <plugin>\n            <groupId>org.sonarsource.scanner.maven</groupId>\n            <artifactId>sonar-maven-plugin</artifactId>\n            <version>3.9.1.2184</version>\n        </plugin>\n        <plugin>\n            <groupId>org.jacoco</groupId>\n            <artifactId>jacoco-maven-plugin</artifactId>\n            <version>0.8.8</version>\n            <executions>\n                <execution>\n                    <goals>\n                        <goal>prepare-agent</goal>\n                    </goals>\n                </execution>\n                <execution>\n                    <id>report</id>\n                    <phase>test</phase>\n                    <goals>\n                        <goal>report</goal>\n                    </goals>\n                </execution>\n            </executions>\n        </plugin>\n    </plugins>\n</build>\n"})}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Run analysis:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"mvn clean verify sonar:sonar\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-5-understanding-sonarqube-results",children:"\ud83d\udcca Step 5: Understanding SonarQube Results"}),"\n",(0,t.jsx)(e.h3,{id:"quality-gate-overview",children:"Quality Gate Overview"}),"\n",(0,t.jsx)(e.p,{children:"When you visit your project in SonarQube, you'll see:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\u2705 Quality Gate Status"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Passed"}),": Code meets quality standards"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Failed"}),": Code has issues that need attention"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\ud83d\udcc8 Key Metrics"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Bugs"}),": Logic errors that could cause runtime issues"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Vulnerabilities"}),": Security-related issues"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Code Smells"}),": Maintainability issues"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Coverage"}),": Test coverage percentage"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Duplications"}),": Code duplication percentage"]}),"\n"]}),"\n"]}),"\n",(0,t.jsxs)(e.li,{children:["\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.strong,{children:"\ud83d\udd0d Issue Categories"})}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Blocker"}),": Must fix immediately"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Critical"}),": Should fix before release"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Major"}),": Should fix"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Minor"}),": Nice to fix"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Info"}),": Informational"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"sample-analysis-results",children:"Sample Analysis Results"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Example output after analysis\n=====================================\nQuality Gate: PASSED\n=====================================\n\nMetrics:\n- Bugs: 0\n- Vulnerabilities: 2 (1 Critical, 1 Major)\n- Code Smells: 15 (3 Major, 12 Minor)\n- Coverage: 78.5%\n- Duplications: 2.1%\n- Lines of Code: 2,847\n- Technical Debt: 2h 30min\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-6-cicd-integration",children:"\ud83d\udd27 Step 6: CI/CD Integration"}),"\n",(0,t.jsx)(e.h3,{id:"github-actions-integration",children:"GitHub Actions Integration"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Create .github/workflows/sonarqube.yml:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:"name: SonarQube Analysis\n\non:\n  push:\n    branches: [ main, develop ]\n  pull_request:\n    branches: [ main ]\n\njobs:\n  sonarqube:\n    name: SonarQube Scan\n    runs-on: ubuntu-latest\n    \n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0  # Shallow clones should be disabled for better analysis\n          \n      - name: Setup Node.js\n        uses: actions/setup-node@v4\n        with:\n          node-version: '18'\n          cache: 'npm'\n          \n      - name: Install dependencies\n        run: npm ci\n        \n      - name: Run tests with coverage\n        run: |\n          npm run test:coverage\n          npm run lint -- --format json --output-file reports/eslint-report.json\n          \n      - name: SonarQube Scan\n        uses: sonarqube-quality-gate-action@master\n        env:\n          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n          SONAR_HOST_URL: ${{ secrets.SONAR_HOST_URL }}\n        with:\n          scanMetadataReportFile: target/sonar/report-task.txt\n          \n      - name: SonarQube Quality Gate Check\n        id: sonarqube-quality-gate-check\n        uses: sonarqube-quality-gate-action@master\n        timeout-minutes: 5\n        env:\n          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}\n          SONAR_HOST_URL: ${{ secrets.SONAR_HOST_URL }}\n          \n      - name: Comment PR\n        if: github.event_name == 'pull_request'\n        uses: actions/github-script@v6\n        with:\n          script: |\n            const qualityGate = '${{ steps.sonarqube-quality-gate-check.outputs.quality-gate-status }}';\n            const message = qualityGate === 'PASSED' \n              ? '\u2705 SonarQube Quality Gate **PASSED**' \n              : '\u274c SonarQube Quality Gate **FAILED**';\n            \n            github.rest.issues.createComment({\n              issue_number: context.issue.number,\n              owner: context.repo.owner,\n              repo: context.repo.repo,\n              body: `${message}\\n\\nView detailed results: ${{ secrets.SONAR_HOST_URL }}/dashboard?id=my-project`\n            });\n"})}),"\n",(0,t.jsx)(e.h3,{id:"jenkins-integration",children:"Jenkins Integration"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Add to Jenkinsfile:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-groovy",children:"pipeline {\n    agent any\n    \n    environment {\n        SONAR_TOKEN = credentials('sonar-token')\n        SONAR_HOST_URL = 'http://localhost:9000'\n    }\n    \n    stages {\n        stage('Checkout') {\n            steps {\n                checkout scm\n            }\n        }\n        \n        stage('Build & Test') {\n            steps {\n                sh '''\n                    npm ci\n                    npm run test:coverage\n                    npm run lint -- --format json --output-file reports/eslint-report.json\n                '''\n            }\n        }\n        \n        stage('SonarQube Analysis') {\n            steps {\n                withSonarQubeEnv('SonarQube') {\n                    sh '''\n                        sonar-scanner \\\n                            -Dsonar.projectKey=my-project \\\n                            -Dsonar.sources=src \\\n                            -Dsonar.tests=tests \\\n                            -Dsonar.javascript.lcov.reportPaths=coverage/lcov.info \\\n                            -Dsonar.eslint.reportPaths=reports/eslint-report.json\n                    '''\n                }\n            }\n        }\n        \n        stage('Quality Gate') {\n            steps {\n                timeout(time: 5, unit: 'MINUTES') {\n                    waitForQualityGate abortPipeline: true\n                }\n            }\n        }\n    }\n    \n    post {\n        always {\n            publishHTML([\n                allowMissing: false,\n                alwaysLinkToLastBuild: true,\n                keepAll: true,\n                reportDir: 'coverage',\n                reportFiles: 'index.html',\n                reportName: 'Coverage Report'\n            ])\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(e.h3,{id:"gitlab-ci-integration",children:"GitLab CI Integration"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Add to .gitlab-ci.yml:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'stages:\n  - test\n  - sonarqube-check\n  - sonarqube-vulnerability-report\n\nvariables:\n  SONAR_USER_HOME: "${CI_PROJECT_DIR}/.sonar"\n  GIT_DEPTH: "0"\n\ncache:\n  key: "${CI_JOB_NAME}"\n  paths:\n    - .sonar/cache\n\ntest:\n  stage: test\n  image: node:18\n  script:\n    - npm ci\n    - npm run test:coverage\n    - npm run lint -- --format json --output-file gl-code-quality-report.json\n  artifacts:\n    reports:\n      coverage_report:\n        coverage_format: cobertura\n        path: coverage/cobertura-coverage.xml\n      codequality: gl-code-quality-report.json\n    paths:\n      - coverage/\n\nsonarqube-check:\n  stage: sonarqube-check\n  image: \n    name: sonarsource/sonar-scanner-cli:latest\n    entrypoint: [""]\n  script:\n    - sonar-scanner\n  only:\n    - merge_requests\n    - master\n    - develop\n\nsonarqube-vulnerability-report:\n  stage: sonarqube-vulnerability-report\n  script:\n    - \'curl -u "${SONAR_TOKEN}:" "${SONAR_HOST_URL}/api/issues/gitlab_sast_export?projectKey=${CI_PROJECT_PATH_SLUG}&branch=${CI_COMMIT_REF_NAME}&pullRequest=${CI_MERGE_REQUEST_IID}" -o gl-sast-sonar-report.json\'\n  allow_failure: true\n  only:\n    - merge_requests\n    - master\n    - develop\n  artifacts:\n    expire_in: 1 day\n    reports:\n      sast: gl-sast-sonar-report.json\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-7-advanced-configuration",children:"\ud83d\udd0d Step 7: Advanced Configuration"}),"\n",(0,t.jsx)(e.h3,{id:"custom-quality-gates",children:"Custom Quality Gates"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:["Go to ",(0,t.jsx)(e.strong,{children:"Quality Gates"})," in SonarQube"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Create"})," a new quality gate"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Add conditions"})," based on your requirements:"]}),"\n"]}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// Example Quality Gate Conditions\n{\n  "conditions": [\n    {\n      "metric": "new_bugs",\n      "operator": "GT",\n      "threshold": "0"\n    },\n    {\n      "metric": "new_vulnerabilities", \n      "operator": "GT",\n      "threshold": "0"\n    },\n    {\n      "metric": "new_code_smells",\n      "operator": "GT", \n      "threshold": "5"\n    },\n    {\n      "metric": "new_coverage",\n      "operator": "LT",\n      "threshold": "80"\n    },\n    {\n      "metric": "new_duplicated_lines_density",\n      "operator": "GT",\n      "threshold": "3"\n    }\n  ]\n}\n'})}),"\n",(0,t.jsx)(e.h3,{id:"custom-rules-and-profiles",children:"Custom Rules and Profiles"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Create custom rule profile:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-xml",children:"\x3c!-- custom-rules.xml --\x3e\n<profile>\n  <name>Company Standards</name>\n  <language>js</language>\n  <rules>\n    <rule>\n      <repositoryKey>eslint</repositoryKey>\n      <key>no-console</key>\n      <priority>MAJOR</priority>\n    </rule>\n    <rule>\n      <repositoryKey>eslint</repositoryKey>\n      <key>no-debugger</key>\n      <priority>BLOCKER</priority>\n    </rule>\n  </rules>\n</profile>\n"})}),"\n",(0,t.jsx)(e.h3,{id:"multi-language-project-configuration",children:"Multi-Language Project Configuration"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"sonar-project.properties for monorepo:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-properties",children:"# Main project\nsonar.projectKey=monorepo-project\nsonar.projectName=Monorepo Project\nsonar.projectVersion=1.0\n\n# Multi-module configuration\nsonar.modules=frontend,backend,mobile\n\n# Frontend module (JavaScript/TypeScript)\nfrontend.sonar.projectName=Frontend\nfrontend.sonar.sources=frontend/src\nfrontend.sonar.tests=frontend/tests\nfrontend.sonar.exclusions=frontend/node_modules/**,frontend/dist/**\nfrontend.sonar.javascript.lcov.reportPaths=frontend/coverage/lcov.info\n\n# Backend module (Python)\nbackend.sonar.projectName=Backend\nbackend.sonar.sources=backend/src\nbackend.sonar.tests=backend/tests\nbackend.sonar.exclusions=backend/**/__pycache__/**,backend/venv/**\nbackend.sonar.python.coverage.reportPaths=backend/coverage.xml\n\n# Mobile module (Java/Kotlin)\nmobile.sonar.projectName=Mobile\nmobile.sonar.sources=mobile/src\nmobile.sonar.tests=mobile/src/test\nmobile.sonar.java.binaries=mobile/build/classes\nmobile.sonar.jacoco.reportPaths=mobile/build/jacoco/test.exec\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"\ufe0f-step-8-security-focused-analysis",children:"\ud83d\udee1\ufe0f Step 8: Security-Focused Analysis"}),"\n",(0,t.jsx)(e.h3,{id:"security-hotspots-review",children:"Security Hotspots Review"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Generate security report\ncurl -u admin:admin \\\n  \"http://localhost:9000/api/hotspots/search?projectKey=my-project\" \\\n  | jq '.hotspots[] | {message, status, vulnerabilityProbability, securityCategory}'\n"})}),"\n",(0,t.jsx)(e.h3,{id:"owasp-top-10-compliance",children:"OWASP Top 10 Compliance"}),"\n",(0,t.jsx)(e.p,{children:(0,t.jsx)(e.code,{children:"Configure OWASP security rules:"})}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-properties",children:"# Enable OWASP Top 10 rules\nsonar.security.hotspots.enabled=true\n\n# Security categories to focus on\nsonar.security.categories=sql-injection,xss,path-traversal,ldap-injection,xpath-injection\n\n# Custom security rules\nsonar.inclusions=**/*.js,**/*.ts,**/*.py,**/*.java\nsonar.exclusions=**/node_modules/**,**/vendor/**,**/third-party/**\n"})}),"\n",(0,t.jsx)(e.h3,{id:"vulnerability-management",children:"Vulnerability Management"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-python",children:"# Python script to extract vulnerabilities\nimport requests\nimport json\n\ndef get_vulnerabilities(sonar_url, project_key, token):\n    \"\"\"Extract vulnerabilities from SonarQube\"\"\"\n    \n    headers = {'Authorization': f'Bearer {token}'}\n    \n    # Get vulnerabilities\n    response = requests.get(\n        f\"{sonar_url}/api/issues/search\",\n        params={\n            'componentKeys': project_key,\n            'types': 'VULNERABILITY',\n            'resolved': 'false'\n        },\n        headers=headers\n    )\n    \n    vulnerabilities = response.json()\n    \n    # Process and categorize\n    critical_vulns = []\n    high_vulns = []\n    medium_vulns = []\n    \n    for issue in vulnerabilities.get('issues', []):\n        vuln = {\n            'key': issue['key'],\n            'rule': issue['rule'],\n            'severity': issue['severity'],\n            'message': issue['message'],\n            'component': issue['component'],\n            'line': issue.get('line', 'N/A'),\n            'effort': issue.get('effort', 'N/A')\n        }\n        \n        if issue['severity'] in ['BLOCKER', 'CRITICAL']:\n            critical_vulns.append(vuln)\n        elif issue['severity'] == 'MAJOR':\n            high_vulns.append(vuln)\n        else:\n            medium_vulns.append(vuln)\n    \n    return {\n        'critical': critical_vulns,\n        'high': high_vulns,\n        'medium': medium_vulns,\n        'total': len(vulnerabilities.get('issues', []))\n    }\n\n# Usage\nvulns = get_vulnerabilities(\n    'http://localhost:9000',\n    'my-project',\n    'your-token-here'\n)\n\nprint(f\"Total vulnerabilities: {vulns['total']}\")\nprint(f\"Critical: {len(vulns['critical'])}\")\nprint(f\"High: {len(vulns['high'])}\")\nprint(f\"Medium: {len(vulns['medium'])}\")\n"})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-9-reporting-and-dashboards",children:"\ud83d\udcc8 Step 9: Reporting and Dashboards"}),"\n",(0,t.jsx)(e.h3,{id:"custom-dashboard-creation",children:"Custom Dashboard Creation"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-javascript",children:'// JavaScript to create custom widgets\nconst customMetrics = {\n  "security": {\n    "vulnerabilities": "vulnerabilities",\n    "security_hotspots": "security_hotspots",\n    "security_rating": "security_rating"\n  },\n  "reliability": {\n    "bugs": "bugs", \n    "reliability_rating": "reliability_rating"\n  },\n  "maintainability": {\n    "code_smells": "code_smells",\n    "sqale_rating": "sqale_rating",\n    "technical_debt": "sqale_index"\n  },\n  "coverage": {\n    "coverage": "coverage",\n    "line_coverage": "line_coverage",\n    "branch_coverage": "branch_coverage"\n  }\n};\n'})}),"\n",(0,t.jsx)(e.h3,{id:"automated-reporting",children:"Automated Reporting"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'#!/bin/bash\n# generate-sonar-report.sh\n\nPROJECT_KEY="my-project"\nSONAR_URL="http://localhost:9000"\nTOKEN="your-token-here"\nOUTPUT_DIR="reports"\n\nmkdir -p $OUTPUT_DIR\n\n# Generate metrics report\ncurl -u $TOKEN: \\\n  "$SONAR_URL/api/measures/component?component=$PROJECT_KEY&metricKeys=bugs,vulnerabilities,code_smells,coverage,duplicated_lines_density" \\\n  | jq \'.component.measures\' > $OUTPUT_DIR/metrics.json\n\n# Generate issues report\ncurl -u $TOKEN: \\\n  "$SONAR_URL/api/issues/search?componentKeys=$PROJECT_KEY&resolved=false" \\\n  | jq \'.issues\' > $OUTPUT_DIR/issues.json\n\n# Generate quality gate status\ncurl -u $TOKEN: \\\n  "$SONAR_URL/api/qualitygates/project_status?projectKey=$PROJECT_KEY" \\\n  | jq \'.projectStatus\' > $OUTPUT_DIR/quality-gate.json\n\necho "Reports generated in $OUTPUT_DIR/"\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-step-10-troubleshooting-common-issues",children:"\ud83d\udd27 Step 10: Troubleshooting Common Issues"}),"\n",(0,t.jsx)(e.h3,{id:"memory-and-performance-issues",children:"Memory and Performance Issues"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-yaml",children:'# docker-compose.yml optimization\nservices:\n  sonarqube:\n    image: sonarqube:community\n    environment:\n      - SONAR_ES_BOOTSTRAP_CHECKS_DISABLE=true\n      - "ES_JAVA_OPTS=-Xms2g -Xmx2g"\n      - "SONAR_CE_JAVAOPTS=-Xmx2g"\n      - "SONAR_WEB_JAVAOPTS=-Xmx1g"\n    ulimits:\n      nofile:\n        soft: 65536\n        hard: 65536\n'})}),"\n",(0,t.jsx)(e.h3,{id:"analysis-failures",children:"Analysis Failures"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:"# Debug analysis issues\nsonar-scanner \\\n  -Dsonar.host.url=http://localhost:9000 \\\n  -Dsonar.login=YOUR_TOKEN \\\n  -Dsonar.verbose=true \\\n  -Dsonar.log.level=DEBUG\n"})}),"\n",(0,t.jsx)(e.h3,{id:"plugin-management",children:"Plugin Management"}),"\n",(0,t.jsx)(e.pre,{children:(0,t.jsx)(e.code,{className:"language-bash",children:'# Install additional plugins via API\ncurl -X POST \\\n  -u admin:admin \\\n  "http://localhost:9000/api/plugins/install" \\\n  -d "key=python"\n\n# Restart SonarQube after plugin installation\ndocker-compose restart sonarqube\n'})}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-common-use-cases",children:"\ud83d\udccb Common Use Cases"}),"\n",(0,t.jsxs)(e.h3,{id:"1-enterprise-code-quality",children:["1. ",(0,t.jsx)(e.strong,{children:"Enterprise Code Quality"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Organization-wide quality standards"}),"\n",(0,t.jsx)(e.li,{children:"Technical debt management"}),"\n",(0,t.jsx)(e.li,{children:"Security compliance"}),"\n",(0,t.jsx)(e.li,{children:"Developer training"}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"2-devsecops-integration",children:["2. ",(0,t.jsx)(e.strong,{children:"DevSecOps Integration"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Automated security scanning"}),"\n",(0,t.jsx)(e.li,{children:"Vulnerability management"}),"\n",(0,t.jsx)(e.li,{children:"Compliance reporting"}),"\n",(0,t.jsx)(e.li,{children:"Risk assessment"}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"3-continuous-improvement",children:["3. ",(0,t.jsx)(e.strong,{children:"Continuous Improvement"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"Code quality metrics tracking"}),"\n",(0,t.jsx)(e.li,{children:"Team performance monitoring"}),"\n",(0,t.jsx)(e.li,{children:"Best practices enforcement"}),"\n",(0,t.jsx)(e.li,{children:"Knowledge sharing"}),"\n"]}),"\n",(0,t.jsxs)(e.h3,{id:"4-regulatory-compliance",children:["4. ",(0,t.jsx)(e.strong,{children:"Regulatory Compliance"})]}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsx)(e.li,{children:"OWASP compliance"}),"\n",(0,t.jsx)(e.li,{children:"Industry standards adherence"}),"\n",(0,t.jsx)(e.li,{children:"Audit trail maintenance"}),"\n",(0,t.jsx)(e.li,{children:"Risk documentation"}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-what-youll-achieve",children:"\u2705 What You'll Achieve"}),"\n",(0,t.jsx)(e.p,{children:"After following this guide, you'll have:"}),"\n",(0,t.jsxs)(e.ol,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udd0d Comprehensive Code Analysis"})," - Automated detection of bugs, vulnerabilities, and code smells"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udee1\ufe0f Security Scanning"})," - SAST capabilities with OWASP Top 10 coverage"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udcca Quality Gates"})," - Automated quality control with customizable thresholds"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udd04 CI/CD Integration"})," - Seamless integration with your development workflow"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udcc8 Metrics & Reporting"})," - Detailed insights into code quality and technical debt"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"\ud83d\udc65 Team Collaboration"})," - Shared quality standards and improvement tracking"]}),"\n"]}),"\n",(0,t.jsxs)(e.p,{children:["\u2705 ",(0,t.jsx)(e.strong,{children:"SonarQube is now configured and ready to enhance your code quality and security!"})]})]})}function u(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(d,{...n})}):d(n)}},8453:(n,e,s)=>{s.d(e,{R:()=>a,x:()=>o});var r=s(6540);const t={},i=r.createContext(t);function a(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function o(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(t):n.components||t:a(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);